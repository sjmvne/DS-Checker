function vr(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}var pr={exports:{}};(function(N,Y){(function(c,b){N.exports=b()})(window,function(){return function(c){var b={};function a(l){if(b[l])return b[l].exports;var s=b[l]={i:l,l:!1,exports:{}};return c[l].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=b,a.d=function(l,s,v){a.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:v})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,s){if(1&s&&(l=a(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var v=Object.create(null);if(a.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var p in l)a.d(v,p,(function(m){return l[m]}).bind(null,p));return v},a.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(s,"a",s),s},a.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},a.p="/",a(a.s=90)}([function(c,b,a){var l=a(68);c.exports=function(s,v,p){return(v=l(v))in s?Object.defineProperty(s,v,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[v]=p,s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){function a(l){return c.exports=a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},c.exports.__esModule=!0,c.exports.default=c.exports,a(l)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(68);function s(v,p){for(var m=0;m<p.length;m++){var x=p[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,l(x.key),x)}}c.exports=function(v,p,m){return p&&s(v.prototype,p),m&&s(v,m),Object.defineProperty(v,"prototype",{writable:!1}),v},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(9).default,s=a(150);c.exports=function(v,p){if(p&&(l(p)=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(v)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(38);c.exports=function(s,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(v&&v.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),v&&l(s,v)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(146)();c.exports=l;try{regeneratorRuntime=l}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}},function(c,b){function a(l,s,v,p,m,x,M){try{var R=l[x](M),D=R.value}catch(I){return void v(I)}R.done?s(D):Promise.resolve(D).then(p,m)}c.exports=function(l){return function(){var s=this,v=arguments;return new Promise(function(p,m){var x=l.apply(s,v);function M(D){a(x,p,m,M,R,"next",D)}function R(D){a(x,p,m,M,R,"throw",D)}M(void 0)})}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(46),s=typeof self=="object"&&self&&self.Object===Object&&self,v=l||s||Function("return this")();c.exports=v},function(c,b){function a(l){return c.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},c.exports.__esModule=!0,c.exports.default=c.exports,a(l)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}},function(c,b){c.exports=function(a){return a!=null&&typeof a=="object"}},function(c,b){var a=Array.isArray;c.exports=a},function(c,b,a){var l=a(151);function s(){return c.exports=s=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,p,m){var x=l(v,p);if(x){var M=Object.getOwnPropertyDescriptor(x,p);return M.get?M.get.call(arguments.length<3?v:m):M.value}},c.exports.__esModule=!0,c.exports.default=c.exports,s.apply(null,arguments)}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(102),s=a(108);c.exports=function(v,p){var m=s(v,p);return l(m)?m:void 0}},function(c,b,a){var l=a(91),s=a(134)(function(v,p,m){l(v,p,m)});c.exports=s},function(c,b,a){var l=a(152),s=a(153),v=a(66),p=a(154);c.exports=function(m){return l(m)||s(m)||v(m)||p()},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(19),s=a(104),v=a(105),p=l?l.toStringTag:void 0;c.exports=function(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":p&&p in Object(m)?s(m):v(m)}},function(c,b,a){var l=a(60),s=a(29);c.exports=function(v,p,m,x){var M=!m;m||(m={});for(var R=-1,D=p.length;++R<D;){var I=p[R],F=x?x(m[I],v[I],I,m,v):void 0;F===void 0&&(F=v[I]),M?s(m,I,F):l(m,I,F)}return m}},function(c,b,a){var l=a(8).Symbol;c.exports=l},function(c,b,a){var l=a(61),s=a(132),v=a(26);c.exports=function(p){return v(p)?l(p,!0):s(p)}},function(c,b,a){var l=a(92),s=a(93),v=a(94),p=a(95),m=a(96);function x(M){var R=-1,D=M==null?0:M.length;for(this.clear();++R<D;){var I=M[R];this.set(I[0],I[1])}}x.prototype.clear=l,x.prototype.delete=s,x.prototype.get=v,x.prototype.has=p,x.prototype.set=m,c.exports=x},function(c,b,a){var l=a(23);c.exports=function(s,v){for(var p=s.length;p--;)if(l(s[p][0],v))return p;return-1}},function(c,b){c.exports=function(a,l){return a===l||a!=a&&l!=l}},function(c,b,a){var l=a(14)(Object,"create");c.exports=l},function(c,b,a){var l=a(117);c.exports=function(s,v){var p=s.__data__;return l(v)?p[typeof v=="string"?"string":"hash"]:p.map}},function(c,b,a){var l=a(28),s=a(56);c.exports=function(v){return v!=null&&s(v.length)&&!l(v)}},function(c,b,a){var l=a(14)(a(8),"Map");c.exports=l},function(c,b,a){var l=a(17),s=a(10);c.exports=function(v){if(!s(v))return!1;var p=l(v);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},function(c,b,a){var l=a(50);c.exports=function(s,v,p){v=="__proto__"&&l?l(s,v,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[v]=p}},function(c,b){c.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(c,b,a){var l=a(124);c.exports=function(s){var v=new s.constructor(s.byteLength);return new l(v).set(new l(s)),v}},function(c,b,a){var l=a(55)(Object.getPrototypeOf,Object);c.exports=l},function(c,b){var a=Object.prototype;c.exports=function(l){var s=l&&l.constructor;return l===(typeof s=="function"&&s.prototype||a)}},function(c,b,a){var l=a(126),s=a(11),v=Object.prototype,p=v.hasOwnProperty,m=v.propertyIsEnumerable,x=l(function(){return arguments}())?l:function(M){return s(M)&&p.call(M,"callee")&&!m.call(M,"callee")};c.exports=x},function(c,b,a){(function(l){var s=a(8),v=a(128),p=b&&!b.nodeType&&b,m=p&&typeof l=="object"&&l&&!l.nodeType&&l,x=m&&m.exports===p?s.Buffer:void 0,M=(x?x.isBuffer:void 0)||v;l.exports=M}).call(this,a(30)(c))},function(c,b){c.exports=function(a){return function(l){return a(l)}}},function(c,b,a){(function(l){var s=a(46),v=b&&!b.nodeType&&b,p=v&&typeof l=="object"&&l&&!l.nodeType&&l,m=p&&p.exports===v&&s.process,x=function(){try{var M=p&&p.require&&p.require("util").types;return M||m&&m.binding&&m.binding("util")}catch{}}();l.exports=x}).call(this,a(30)(c))},function(c,b){function a(l,s){return c.exports=a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,p){return v.__proto__=p,v},c.exports.__esModule=!0,c.exports.default=c.exports,a(l,s)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(61),s=a(159),v=a(26);c.exports=function(p){return v(p)?l(p):s(p)}},function(c,b,a){var l=a(163),s=a(75),v=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,m=p?function(x){return x==null?[]:(x=Object(x),l(p(x),function(M){return v.call(x,M)}))}:s;c.exports=m},function(c,b){c.exports=function(a,l){for(var s=-1,v=l.length,p=a.length;++s<v;)a[p+s]=l[s];return a}},function(c,b,a){var l=a(166),s=a(27),v=a(167),p=a(168),m=a(169),x=a(17),M=a(47),R=M(l),D=M(s),I=M(v),F=M(p),U=M(m),X=x;(l&&X(new l(new ArrayBuffer(1)))!="[object DataView]"||s&&X(new s)!="[object Map]"||v&&X(v.resolve())!="[object Promise]"||p&&X(new p)!="[object Set]"||m&&X(new m)!="[object WeakMap]")&&(X=function(L){var te=x(L),A=te=="[object Object]"?L.constructor:void 0,$=A?M(A):"";if($)switch($){case R:return"[object DataView]";case D:return"[object Map]";case I:return"[object Promise]";case F:return"[object Set]";case U:return"[object WeakMap]"}return te}),c.exports=X},function(c,b,a){var l=a(12),s=a(180),v=a(181),p=a(184);c.exports=function(m,x){return l(m)?m:s(m,x)?[m]:v(p(m))}},function(c,b,a){var l=a(17),s=a(11);c.exports=function(v){return typeof v=="symbol"||s(v)&&l(v)=="[object Symbol]"}},function(c,b,a){var l=a(21),s=a(97),v=a(98),p=a(99),m=a(100),x=a(101);function M(R){var D=this.__data__=new l(R);this.size=D.size}M.prototype.clear=s,M.prototype.delete=v,M.prototype.get=p,M.prototype.has=m,M.prototype.set=x,c.exports=M},function(c,b,a){(function(l){var s=typeof l=="object"&&l&&l.Object===Object&&l;c.exports=s}).call(this,a(103))},function(c,b){var a=Function.prototype.toString;c.exports=function(l){if(l!=null){try{return a.call(l)}catch{}try{return l+""}catch{}}return""}},function(c,b,a){var l=a(109),s=a(116),v=a(118),p=a(119),m=a(120);function x(M){var R=-1,D=M==null?0:M.length;for(this.clear();++R<D;){var I=M[R];this.set(I[0],I[1])}}x.prototype.clear=l,x.prototype.delete=s,x.prototype.get=v,x.prototype.has=p,x.prototype.set=m,c.exports=x},function(c,b,a){var l=a(29),s=a(23);c.exports=function(v,p,m){(m!==void 0&&!s(v[p],m)||m===void 0&&!(p in v))&&l(v,p,m)}},function(c,b,a){var l=a(14),s=function(){try{var v=l(Object,"defineProperty");return v({},"",{}),v}catch{}}();c.exports=s},function(c,b,a){(function(l){var s=a(8),v=b&&!b.nodeType&&b,p=v&&typeof l=="object"&&l&&!l.nodeType&&l,m=p&&p.exports===v?s.Buffer:void 0,x=m?m.allocUnsafe:void 0;l.exports=function(M,R){if(R)return M.slice();var D=M.length,I=x?x(D):new M.constructor(D);return M.copy(I),I}}).call(this,a(30)(c))},function(c,b,a){var l=a(31);c.exports=function(s,v){var p=v?l(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}},function(c,b){c.exports=function(a,l){var s=-1,v=a.length;for(l||(l=Array(v));++s<v;)l[s]=a[s];return l}},function(c,b,a){var l=a(125),s=a(32),v=a(33);c.exports=function(p){return typeof p.constructor!="function"||v(p)?{}:l(s(p))}},function(c,b){c.exports=function(a,l){return function(s){return a(l(s))}}},function(c,b){c.exports=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991}},function(c,b,a){var l=a(17),s=a(32),v=a(11),p=Function.prototype,m=Object.prototype,x=p.toString,M=m.hasOwnProperty,R=x.call(Object);c.exports=function(D){if(!v(D)||l(D)!="[object Object]")return!1;var I=s(D);if(I===null)return!0;var F=M.call(I,"constructor")&&I.constructor;return typeof F=="function"&&F instanceof F&&x.call(F)==R}},function(c,b,a){var l=a(129),s=a(36),v=a(37),p=v&&v.isTypedArray,m=p?s(p):l;c.exports=m},function(c,b){c.exports=function(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}},function(c,b,a){var l=a(29),s=a(23),v=Object.prototype.hasOwnProperty;c.exports=function(p,m,x){var M=p[m];v.call(p,m)&&s(M,x)&&(x!==void 0||m in p)||l(p,m,x)}},function(c,b,a){var l=a(131),s=a(34),v=a(12),p=a(35),m=a(62),x=a(58),M=Object.prototype.hasOwnProperty;c.exports=function(R,D){var I=v(R),F=!I&&s(R),U=!I&&!F&&p(R),X=!I&&!F&&!U&&x(R),L=I||F||U||X,te=L?l(R.length,String):[],A=te.length;for(var $ in R)!D&&!M.call(R,$)||L&&($=="length"||U&&($=="offset"||$=="parent")||X&&($=="buffer"||$=="byteLength"||$=="byteOffset")||m($,A))||te.push($);return te}},function(c,b){var a=/^(?:0|[1-9]\d*)$/;c.exports=function(l,s){var v=typeof l;return!!(s=s??9007199254740991)&&(v=="number"||v!="symbol"&&a.test(l))&&l>-1&&l%1==0&&l<s}},function(c,b){c.exports=function(a){return a}},function(c,b,a){var l=a(136),s=Math.max;c.exports=function(v,p,m){return p=s(p===void 0?v.length-1:p,0),function(){for(var x=arguments,M=-1,R=s(x.length-p,0),D=Array(R);++M<R;)D[M]=x[p+M];M=-1;for(var I=Array(p+1);++M<p;)I[M]=x[M];return I[p]=m(D),l(v,this,I)}}},function(c,b,a){var l=a(137),s=a(139)(l);c.exports=s},function(c,b,a){var l=a(67);c.exports=function(s,v){if(s){if(typeof s=="string")return l(s,v);var p={}.toString.call(s).slice(8,-1);return p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set"?Array.from(s):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?l(s,v):void 0}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,v=Array(l);s<l;s++)v[s]=a[s];return v},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(9).default,s=a(145);c.exports=function(v){var p=s(v,"string");return l(p)=="symbol"?p:p+""},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a,l){this.v=a,this.k=l},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(71);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var v,p,m=typeof Symbol=="function"?Symbol:{},x=m.iterator||"@@iterator",M=m.toStringTag||"@@toStringTag";function R(A,$,re,ce){var pe=$&&$.prototype instanceof I?$:I,he=Object.create(pe.prototype);return l(he,"_invoke",function(ye,J,se){var K,Z,ie,me=0,H=se||[],V=!1,E={p:0,n:0,v,a:j,f:j.bind(v,4),d:function(P,W){return K=P,Z=0,ie=v,E.n=W,D}};function j(P,W){for(Z=P,ie=W,p=0;!V&&me&&!q&&p<H.length;p++){var q,G=H[p],fe=E.p,ve=G[2];P>3?(q=ve===W)&&(ie=G[(Z=G[4])?5:(Z=3,3)],G[4]=G[5]=v):G[0]<=fe&&((q=P<2&&fe<G[1])?(Z=0,E.v=W,E.n=G[1]):fe<ve&&(q=P<3||G[0]>W||W>ve)&&(G[4]=P,G[5]=W,E.n=ve,Z=0))}if(q||P>1)return D;throw V=!0,W}return function(P,W,q){if(me>1)throw TypeError("Generator is already running");for(V&&W===1&&j(W,q),Z=W,ie=q;(p=Z<2?v:ie)||!V;){K||(Z?Z<3?(Z>1&&(E.n=-1),j(Z,ie)):E.n=ie:E.v=ie);try{if(me=2,K){if(Z||(P="next"),p=K[P]){if(!(p=p.call(K,ie)))throw TypeError("iterator result is not an object");if(!p.done)return p;ie=p.value,Z<2&&(Z=0)}else Z===1&&(p=K.return)&&p.call(K),Z<2&&(ie=TypeError("The iterator does not provide a '"+P+"' method"),Z=1);K=v}else if((p=(V=E.n<0)?ie:ye.call(J,E))!==D)break}catch(G){K=v,Z=1,ie=G}finally{me=1}}return{value:p,done:V}}}(A,re,ce),!0),he}var D={};function I(){}function F(){}function U(){}p=Object.getPrototypeOf;var X=[][x]?p(p([][x]())):(l(p={},x,function(){return this}),p),L=U.prototype=I.prototype=Object.create(X);function te(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,U):(A.__proto__=U,l(A,M,"GeneratorFunction")),A.prototype=Object.create(L),A}return F.prototype=U,l(L,"constructor",U),l(U,"constructor",F),F.displayName="GeneratorFunction",l(U,M,"GeneratorFunction"),l(L),l(L,M,"Generator"),l(L,x,function(){return this}),l(L,"toString",function(){return"[object Generator]"}),(c.exports=s=function(){return{w:R,m:te}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){function a(l,s,v,p){var m=Object.defineProperty;try{m({},"",{})}catch{m=0}c.exports=a=function(x,M,R,D){function I(F,U){a(x,F,function(X){return this._invoke(F,U,X)})}M?m?m(x,M,{value:R,enumerable:!D,configurable:!D,writable:!D}):x[M]=R:(I("next",0),I("throw",1),I("return",2))},c.exports.__esModule=!0,c.exports.default=c.exports,a(l,s,v,p)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(70),s=a(73);c.exports=function(v,p,m,x,M){return new s(l().w(v,p,m,x),M||Promise)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(69),s=a(71);c.exports=function v(p,m){function x(R,D,I,F){try{var U=p[R](D),X=U.value;return X instanceof l?m.resolve(X.v).then(function(L){x("next",L,I,F)},function(L){x("throw",L,I,F)}):m.resolve(X).then(function(L){U.value=L,I(U)},function(L){return x("throw",L,I,F)})}catch(L){F(L)}}var M;this.next||(s(v.prototype),s(v.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),s(this,"_invoke",function(R,D,I){function F(){return new m(function(U,X){x(R,I,U,X)})}return M=M?M.then(F,F):F()},!0)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a,l){for(var s=-1,v=a==null?0:a.length,p=Array(v);++s<v;)p[s]=l(a[s],s,a);return p}},function(c,b){c.exports=function(){return[]}},function(c,b,a){var l=a(41),s=a(32),v=a(40),p=a(75),m=Object.getOwnPropertySymbols?function(x){for(var M=[];x;)l(M,v(x)),x=s(x);return M}:p;c.exports=m},function(c,b,a){var l=a(41),s=a(12);c.exports=function(v,p,m){var x=p(v);return s(v)?x:l(x,m(v))}},function(c,b,a){var l=a(77),s=a(76),v=a(20);c.exports=function(p){return l(p,v,s)}},function(c,b,a){var l=a(44);c.exports=function(s){if(typeof s=="string"||l(s))return s;var v=s+"";return v=="0"&&1/s==-1/0?"-0":v}},function(c,b,a){var l=a(142),s=a(143),v=a(66),p=a(144);c.exports=function(m,x){return l(m)||s(m,x)||v(m,x)||p()},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(155);c.exports=function(s,v){if(s==null)return{};var p,m,x=l(s,v);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(s);for(m=0;m<M.length;m++)p=M[m],v.indexOf(p)===-1&&{}.propertyIsEnumerable.call(s,p)&&(x[p]=s[p])}return x},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(74),s=a(156),v=a(179),p=a(43),m=a(18),x=a(190),M=a(191),R=a(78),D=M(function(I,F){var U={};if(I==null)return U;var X=!1;F=l(F,function(te){return te=p(te,I),X||(X=te.length>1),te}),m(I,R(I),U),X&&(U=s(U,7,x));for(var L=F.length;L--;)v(U,F[L]);return U});c.exports=D},function(c,b,a){var l=a(1),s=a(38),v=a(195),p=a(196);function m(x){var M=typeof Map=="function"?new Map:void 0;return c.exports=m=function(R){if(R===null||!v(R))return R;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(M!==void 0){if(M.has(R))return M.get(R);M.set(R,D)}function D(){return p(R,arguments,l(this).constructor)}return D.prototype=Object.create(R.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),s(D,R)},c.exports.__esModule=!0,c.exports.default=c.exports,m(x)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports},,,,,,,function(c,b,a){c.exports=a(198)},function(c,b,a){var l=a(45),s=a(49),v=a(121),p=a(123),m=a(10),x=a(20),M=a(59);c.exports=function R(D,I,F,U,X){D!==I&&v(I,function(L,te){if(X||(X=new l),m(L))p(D,I,te,F,R,U,X);else{var A=U?U(M(D,te),L,te+"",D,I,X):void 0;A===void 0&&(A=L),s(D,te,A)}},x)}},function(c,b){c.exports=function(){this.__data__=[],this.size=0}},function(c,b,a){var l=a(22),s=Array.prototype.splice;c.exports=function(v){var p=this.__data__,m=l(p,v);return!(m<0)&&(m==p.length-1?p.pop():s.call(p,m,1),--this.size,!0)}},function(c,b,a){var l=a(22);c.exports=function(s){var v=this.__data__,p=l(v,s);return p<0?void 0:v[p][1]}},function(c,b,a){var l=a(22);c.exports=function(s){return l(this.__data__,s)>-1}},function(c,b,a){var l=a(22);c.exports=function(s,v){var p=this.__data__,m=l(p,s);return m<0?(++this.size,p.push([s,v])):p[m][1]=v,this}},function(c,b,a){var l=a(21);c.exports=function(){this.__data__=new l,this.size=0}},function(c,b){c.exports=function(a){var l=this.__data__,s=l.delete(a);return this.size=l.size,s}},function(c,b){c.exports=function(a){return this.__data__.get(a)}},function(c,b){c.exports=function(a){return this.__data__.has(a)}},function(c,b,a){var l=a(21),s=a(27),v=a(48);c.exports=function(p,m){var x=this.__data__;if(x instanceof l){var M=x.__data__;if(!s||M.length<199)return M.push([p,m]),this.size=++x.size,this;x=this.__data__=new v(M)}return x.set(p,m),this.size=x.size,this}},function(c,b,a){var l=a(28),s=a(106),v=a(10),p=a(47),m=/^\[object .+?Constructor\]$/,x=Function.prototype,M=Object.prototype,R=x.toString,D=M.hasOwnProperty,I=RegExp("^"+R.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");c.exports=function(F){return!(!v(F)||s(F))&&(l(F)?I:m).test(p(F))}},function(c,b){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}c.exports=a},function(c,b,a){var l=a(19),s=Object.prototype,v=s.hasOwnProperty,p=s.toString,m=l?l.toStringTag:void 0;c.exports=function(x){var M=v.call(x,m),R=x[m];try{x[m]=void 0;var D=!0}catch{}var I=p.call(x);return D&&(M?x[m]=R:delete x[m]),I}},function(c,b){var a=Object.prototype.toString;c.exports=function(l){return a.call(l)}},function(c,b,a){var l,s=a(107),v=(l=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";c.exports=function(p){return!!v&&v in p}},function(c,b,a){var l=a(8)["__core-js_shared__"];c.exports=l},function(c,b){c.exports=function(a,l){return a==null?void 0:a[l]}},function(c,b,a){var l=a(110),s=a(21),v=a(27);c.exports=function(){this.size=0,this.__data__={hash:new l,map:new(v||s),string:new l}}},function(c,b,a){var l=a(111),s=a(112),v=a(113),p=a(114),m=a(115);function x(M){var R=-1,D=M==null?0:M.length;for(this.clear();++R<D;){var I=M[R];this.set(I[0],I[1])}}x.prototype.clear=l,x.prototype.delete=s,x.prototype.get=v,x.prototype.has=p,x.prototype.set=m,c.exports=x},function(c,b,a){var l=a(24);c.exports=function(){this.__data__=l?l(null):{},this.size=0}},function(c,b){c.exports=function(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}},function(c,b,a){var l=a(24),s=Object.prototype.hasOwnProperty;c.exports=function(v){var p=this.__data__;if(l){var m=p[v];return m==="__lodash_hash_undefined__"?void 0:m}return s.call(p,v)?p[v]:void 0}},function(c,b,a){var l=a(24),s=Object.prototype.hasOwnProperty;c.exports=function(v){var p=this.__data__;return l?p[v]!==void 0:s.call(p,v)}},function(c,b,a){var l=a(24);c.exports=function(s,v){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=l&&v===void 0?"__lodash_hash_undefined__":v,this}},function(c,b,a){var l=a(25);c.exports=function(s){var v=l(this,s).delete(s);return this.size-=v?1:0,v}},function(c,b){c.exports=function(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}},function(c,b,a){var l=a(25);c.exports=function(s){return l(this,s).get(s)}},function(c,b,a){var l=a(25);c.exports=function(s){return l(this,s).has(s)}},function(c,b,a){var l=a(25);c.exports=function(s,v){var p=l(this,s),m=p.size;return p.set(s,v),this.size+=p.size==m?0:1,this}},function(c,b,a){var l=a(122)();c.exports=l},function(c,b){c.exports=function(a){return function(l,s,v){for(var p=-1,m=Object(l),x=v(l),M=x.length;M--;){var R=x[a?M:++p];if(s(m[R],R,m)===!1)break}return l}}},function(c,b,a){var l=a(49),s=a(51),v=a(52),p=a(53),m=a(54),x=a(34),M=a(12),R=a(127),D=a(35),I=a(28),F=a(10),U=a(57),X=a(58),L=a(59),te=a(130);c.exports=function(A,$,re,ce,pe,he,ye){var J=L(A,re),se=L($,re),K=ye.get(se);if(K)l(A,re,K);else{var Z=he?he(J,se,re+"",A,$,ye):void 0,ie=Z===void 0;if(ie){var me=M(se),H=!me&&D(se),V=!me&&!H&&X(se);Z=se,me||H||V?M(J)?Z=J:R(J)?Z=p(J):H?(ie=!1,Z=s(se,!0)):V?(ie=!1,Z=v(se,!0)):Z=[]:U(se)||x(se)?(Z=J,x(J)?Z=te(J):F(J)&&!I(J)||(Z=m(se))):ie=!1}ie&&(ye.set(se,Z),pe(Z,se,ce,he,ye),ye.delete(se)),l(A,re,Z)}}},function(c,b,a){var l=a(8).Uint8Array;c.exports=l},function(c,b,a){var l=a(10),s=Object.create,v=function(){function p(){}return function(m){if(!l(m))return{};if(s)return s(m);p.prototype=m;var x=new p;return p.prototype=void 0,x}}();c.exports=v},function(c,b,a){var l=a(17),s=a(11);c.exports=function(v){return s(v)&&l(v)=="[object Arguments]"}},function(c,b,a){var l=a(26),s=a(11);c.exports=function(v){return s(v)&&l(v)}},function(c,b){c.exports=function(){return!1}},function(c,b,a){var l=a(17),s=a(56),v=a(11),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,c.exports=function(m){return v(m)&&s(m.length)&&!!p[l(m)]}},function(c,b,a){var l=a(18),s=a(20);c.exports=function(v){return l(v,s(v))}},function(c,b){c.exports=function(a,l){for(var s=-1,v=Array(a);++s<a;)v[s]=l(s);return v}},function(c,b,a){var l=a(10),s=a(33),v=a(133),p=Object.prototype.hasOwnProperty;c.exports=function(m){if(!l(m))return v(m);var x=s(m),M=[];for(var R in m)(R!="constructor"||!x&&p.call(m,R))&&M.push(R);return M}},function(c,b){c.exports=function(a){var l=[];if(a!=null)for(var s in Object(a))l.push(s);return l}},function(c,b,a){var l=a(135),s=a(140);c.exports=function(v){return l(function(p,m){var x=-1,M=m.length,R=M>1?m[M-1]:void 0,D=M>2?m[2]:void 0;for(R=v.length>3&&typeof R=="function"?(M--,R):void 0,D&&s(m[0],m[1],D)&&(R=M<3?void 0:R,M=1),p=Object(p);++x<M;){var I=m[x];I&&v(p,I,x,R)}return p})}},function(c,b,a){var l=a(63),s=a(64),v=a(65);c.exports=function(p,m){return v(s(p,m,l),p+"")}},function(c,b){c.exports=function(a,l,s){switch(s.length){case 0:return a.call(l);case 1:return a.call(l,s[0]);case 2:return a.call(l,s[0],s[1]);case 3:return a.call(l,s[0],s[1],s[2])}return a.apply(l,s)}},function(c,b,a){var l=a(138),s=a(50),v=a(63),p=s?function(m,x){return s(m,"toString",{configurable:!0,enumerable:!1,value:l(x),writable:!0})}:v;c.exports=p},function(c,b){c.exports=function(a){return function(){return a}}},function(c,b){var a=Date.now;c.exports=function(l){var s=0,v=0;return function(){var p=a(),m=16-(p-v);if(v=p,m>0){if(++s>=800)return arguments[0]}else s=0;return l.apply(void 0,arguments)}}},function(c,b,a){var l=a(23),s=a(26),v=a(62),p=a(10);c.exports=function(m,x,M){if(!p(M))return!1;var R=typeof x;return!!(R=="number"?s(M)&&v(x,M.length):R=="string"&&x in M)&&l(M[x],m)}},function(c,b){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(a,l){var s=65535&a,v=65535&l;return s*v+((a>>>16&65535)*v+s*(l>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(a){if(a===null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),s=1;s<arguments.length;s++){var v=arguments[s];if(v!==null)for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}return l})},function(c,b){c.exports=function(a){if(Array.isArray(a))return a},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a,l){var s=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(s!=null){var v,p,m,x,M=[],R=!0,D=!1;try{if(m=(s=s.call(a)).next,l===0){if(Object(s)!==s)return;R=!1}else for(;!(R=(v=m.call(s)).done)&&(M.push(v.value),M.length!==l);R=!0);}catch(I){D=!0,p=I}finally{try{if(!R&&s.return!=null&&(x=s.return(),Object(x)!==x))return}finally{if(D)throw p}}return M}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(9).default;c.exports=function(s,v){if(l(s)!="object"||!s)return s;var p=s[Symbol.toPrimitive];if(p!==void 0){var m=p.call(s,v||"default");if(l(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(s)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(69),s=a(70),v=a(147),p=a(72),m=a(73),x=a(148),M=a(149);function R(){var D=s(),I=D.m(R),F=(Object.getPrototypeOf?Object.getPrototypeOf(I):I.__proto__).constructor;function U(te){var A=typeof te=="function"&&te.constructor;return!!A&&(A===F||(A.displayName||A.name)==="GeneratorFunction")}var X={throw:1,return:2,break:3,continue:3};function L(te){var A,$;return function(re){A||(A={stop:function(){return $(re.a,2)},catch:function(){return re.v},abrupt:function(ce,pe){return $(re.a,X[ce],pe)},delegateYield:function(ce,pe,he){return A.resultName=pe,$(re.d,M(ce),he)},finish:function(ce){return $(re.f,ce)}},$=function(ce,pe,he){re.p=A.prev,re.n=A.next;try{return ce(pe,he)}finally{A.next=re.n}}),A.resultName&&(A[A.resultName]=re.v,A.resultName=void 0),A.sent=re.v,A.next=re.n;try{return te.call(this,A)}finally{re.p=A.prev,re.n=A.next}}}return(c.exports=R=function(){return{wrap:function(te,A,$,re){return D.w(L(te),A,$,re&&re.reverse())},isGeneratorFunction:U,mark:D.m,awrap:function(te,A){return new l(te,A)},AsyncIterator:m,async:function(te,A,$,re,ce){return(U(A)?p:v)(L(te),A,$,re,ce)},keys:x,values:M}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=R,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(72);c.exports=function(s,v,p,m,x){var M=l(s,v,p,m,x);return M.next().then(function(R){return R.done?R.value:M.next()})},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a){var l=Object(a),s=[];for(var v in l)s.unshift(v);return function p(){for(;s.length;)if((v=s.pop())in l)return p.value=v,p.done=!1,p;return p.done=!0,p}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(9).default;c.exports=function(s){if(s!=null){var v=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],p=0;if(v)return v.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&p>=s.length&&(s=void 0),{value:s&&s[p++],done:!s}}}}throw new TypeError(l(s)+" is not iterable")},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(1);c.exports=function(s,v){for(;!{}.hasOwnProperty.call(s,v)&&(s=l(s))!==null;);return s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(67);c.exports=function(s){if(Array.isArray(s))return l(s)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){c.exports=function(a,l){if(a==null)return{};var s={};for(var v in a)if({}.hasOwnProperty.call(a,v)){if(l.indexOf(v)!==-1)continue;s[v]=a[v]}return s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(45),s=a(157),v=a(60),p=a(158),m=a(161),x=a(51),M=a(53),R=a(162),D=a(164),I=a(165),F=a(78),U=a(42),X=a(170),L=a(171),te=a(54),A=a(12),$=a(35),re=a(175),ce=a(10),pe=a(177),he=a(39),ye=a(20),J={};J["[object Arguments]"]=J["[object Array]"]=J["[object ArrayBuffer]"]=J["[object DataView]"]=J["[object Boolean]"]=J["[object Date]"]=J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Map]"]=J["[object Number]"]=J["[object Object]"]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object Symbol]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J["[object Error]"]=J["[object Function]"]=J["[object WeakMap]"]=!1,c.exports=function se(K,Z,ie,me,H,V){var E,j=1&Z,P=2&Z,W=4&Z;if(ie&&(E=H?ie(K,me,H,V):ie(K)),E!==void 0)return E;if(!ce(K))return K;var q=A(K);if(q){if(E=X(K),!j)return M(K,E)}else{var G=U(K),fe=G=="[object Function]"||G=="[object GeneratorFunction]";if($(K))return x(K,j);if(G=="[object Object]"||G=="[object Arguments]"||fe&&!H){if(E=P||fe?{}:te(K),!j)return P?D(K,m(E,K)):R(K,p(E,K))}else{if(!J[G])return H?K:{};E=L(K,G,j)}}V||(V=new l);var ve=V.get(K);if(ve)return ve;V.set(K,E),pe(K)?K.forEach(function(de){E.add(se(de,Z,ie,de,K,V))}):re(K)&&K.forEach(function(de,Ae){E.set(Ae,se(de,Z,ie,Ae,K,V))});var be=q?void 0:(W?P?F:I:P?ye:he)(K);return s(be||K,function(de,Ae){be&&(de=K[Ae=de]),v(E,Ae,se(de,Z,ie,Ae,K,V))}),E}},function(c,b){c.exports=function(a,l){for(var s=-1,v=a==null?0:a.length;++s<v&&l(a[s],s,a)!==!1;);return a}},function(c,b,a){var l=a(18),s=a(39);c.exports=function(v,p){return v&&l(p,s(p),v)}},function(c,b,a){var l=a(33),s=a(160),v=Object.prototype.hasOwnProperty;c.exports=function(p){if(!l(p))return s(p);var m=[];for(var x in Object(p))v.call(p,x)&&x!="constructor"&&m.push(x);return m}},function(c,b,a){var l=a(55)(Object.keys,Object);c.exports=l},function(c,b,a){var l=a(18),s=a(20);c.exports=function(v,p){return v&&l(p,s(p),v)}},function(c,b,a){var l=a(18),s=a(40);c.exports=function(v,p){return l(v,s(v),p)}},function(c,b){c.exports=function(a,l){for(var s=-1,v=a==null?0:a.length,p=0,m=[];++s<v;){var x=a[s];l(x,s,a)&&(m[p++]=x)}return m}},function(c,b,a){var l=a(18),s=a(76);c.exports=function(v,p){return l(v,s(v),p)}},function(c,b,a){var l=a(77),s=a(40),v=a(39);c.exports=function(p){return l(p,v,s)}},function(c,b,a){var l=a(14)(a(8),"DataView");c.exports=l},function(c,b,a){var l=a(14)(a(8),"Promise");c.exports=l},function(c,b,a){var l=a(14)(a(8),"Set");c.exports=l},function(c,b,a){var l=a(14)(a(8),"WeakMap");c.exports=l},function(c,b){var a=Object.prototype.hasOwnProperty;c.exports=function(l){var s=l.length,v=new l.constructor(s);return s&&typeof l[0]=="string"&&a.call(l,"index")&&(v.index=l.index,v.input=l.input),v}},function(c,b,a){var l=a(31),s=a(172),v=a(173),p=a(174),m=a(52);c.exports=function(x,M,R){var D=x.constructor;switch(M){case"[object ArrayBuffer]":return l(x);case"[object Boolean]":case"[object Date]":return new D(+x);case"[object DataView]":return s(x,R);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return m(x,R);case"[object Map]":return new D;case"[object Number]":case"[object String]":return new D(x);case"[object RegExp]":return v(x);case"[object Set]":return new D;case"[object Symbol]":return p(x)}}},function(c,b,a){var l=a(31);c.exports=function(s,v){var p=v?l(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}},function(c,b){var a=/\w*$/;c.exports=function(l){var s=new l.constructor(l.source,a.exec(l));return s.lastIndex=l.lastIndex,s}},function(c,b,a){var l=a(19),s=l?l.prototype:void 0,v=s?s.valueOf:void 0;c.exports=function(p){return v?Object(v.call(p)):{}}},function(c,b,a){var l=a(176),s=a(36),v=a(37),p=v&&v.isMap,m=p?s(p):l;c.exports=m},function(c,b,a){var l=a(42),s=a(11);c.exports=function(v){return s(v)&&l(v)=="[object Map]"}},function(c,b,a){var l=a(178),s=a(36),v=a(37),p=v&&v.isSet,m=p?s(p):l;c.exports=m},function(c,b,a){var l=a(42),s=a(11);c.exports=function(v){return s(v)&&l(v)=="[object Set]"}},function(c,b,a){var l=a(43),s=a(186),v=a(187),p=a(79);c.exports=function(m,x){return x=l(x,m),(m=v(m,x))==null||delete m[p(s(x))]}},function(c,b,a){var l=a(12),s=a(44),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;c.exports=function(m,x){if(l(m))return!1;var M=typeof m;return!(M!="number"&&M!="symbol"&&M!="boolean"&&m!=null&&!s(m))||p.test(m)||!v.test(m)||x!=null&&m in Object(x)}},function(c,b,a){var l=a(182),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,p=l(function(m){var x=[];return m.charCodeAt(0)===46&&x.push(""),m.replace(s,function(M,R,D,I){x.push(D?I.replace(v,"$1"):R||M)}),x});c.exports=p},function(c,b,a){var l=a(183);c.exports=function(s){var v=l(s,function(m){return p.size===500&&p.clear(),m}),p=v.cache;return v}},function(c,b,a){var l=a(48);function s(v,p){if(typeof v!="function"||p!=null&&typeof p!="function")throw new TypeError("Expected a function");var m=function(){var x=arguments,M=p?p.apply(this,x):x[0],R=m.cache;if(R.has(M))return R.get(M);var D=v.apply(this,x);return m.cache=R.set(M,D)||R,D};return m.cache=new(s.Cache||l),m}s.Cache=l,c.exports=s},function(c,b,a){var l=a(185);c.exports=function(s){return s==null?"":l(s)}},function(c,b,a){var l=a(19),s=a(74),v=a(12),p=a(44),m=l?l.prototype:void 0,x=m?m.toString:void 0;c.exports=function M(R){if(typeof R=="string")return R;if(v(R))return s(R,M)+"";if(p(R))return x?x.call(R):"";var D=R+"";return D=="0"&&1/R==-1/0?"-0":D}},function(c,b){c.exports=function(a){var l=a==null?0:a.length;return l?a[l-1]:void 0}},function(c,b,a){var l=a(188),s=a(189);c.exports=function(v,p){return p.length<2?v:l(v,s(p,0,-1))}},function(c,b,a){var l=a(43),s=a(79);c.exports=function(v,p){for(var m=0,x=(p=l(p,v)).length;v!=null&&m<x;)v=v[s(p[m++])];return m&&m==x?v:void 0}},function(c,b){c.exports=function(a,l,s){var v=-1,p=a.length;l<0&&(l=-l>p?0:p+l),(s=s>p?p:s)<0&&(s+=p),p=l>s?0:s-l>>>0,l>>>=0;for(var m=Array(p);++v<p;)m[v]=a[v+l];return m}},function(c,b,a){var l=a(57);c.exports=function(s){return l(s)?void 0:s}},function(c,b,a){var l=a(192),s=a(64),v=a(65);c.exports=function(p){return v(s(p,void 0,l),p+"")}},function(c,b,a){var l=a(193);c.exports=function(s){return s!=null&&s.length?l(s,1):[]}},function(c,b,a){var l=a(41),s=a(194);c.exports=function v(p,m,x,M,R){var D=-1,I=p.length;for(x||(x=s),R||(R=[]);++D<I;){var F=p[D];m>0&&x(F)?m>1?v(F,m-1,x,M,R):l(R,F):M||(R[R.length]=F)}return R}},function(c,b,a){var l=a(19),s=a(34),v=a(12),p=l?l.isConcatSpreadable:void 0;c.exports=function(m){return v(m)||s(m)||!!(p&&m&&m[p])}},function(c,b){c.exports=function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){var l=a(197),s=a(38);c.exports=function(v,p,m){if(l())return Reflect.construct.apply(null,arguments);var x=[null];x.push.apply(x,p);var M=new(v.bind.apply(v,x));return m&&s(M,m.prototype),M},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b){function a(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c.exports=a=function(){return!!l},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,b,a){a.r(b),a.d(b,"BarcodeDecoder",function(){return Nt}),a.d(b,"Readers",function(){return p}),a.d(b,"CameraAccess",function(){return _t}),a.d(b,"ImageDebug",function(){return jt}),a.d(b,"ImageWrapper",function(){return Ee}),a.d(b,"ResultCollector",function(){return $n});var l={};a.r(l),a.d(l,"create",function(){return pe}),a.d(l,"clone",function(){return he}),a.d(l,"copy",function(){return ye}),a.d(l,"identity",function(){return J}),a.d(l,"fromValues",function(){return se}),a.d(l,"set",function(){return K}),a.d(l,"transpose",function(){return Z}),a.d(l,"invert",function(){return ie}),a.d(l,"adjoint",function(){return me}),a.d(l,"determinant",function(){return H}),a.d(l,"multiply",function(){return V}),a.d(l,"rotate",function(){return E}),a.d(l,"scale",function(){return j}),a.d(l,"fromRotation",function(){return P}),a.d(l,"fromScaling",function(){return W}),a.d(l,"str",function(){return q}),a.d(l,"frob",function(){return G}),a.d(l,"LDU",function(){return fe}),a.d(l,"add",function(){return ve}),a.d(l,"subtract",function(){return be}),a.d(l,"exactEquals",function(){return de}),a.d(l,"equals",function(){return Ae}),a.d(l,"multiplyScalar",function(){return Ye}),a.d(l,"multiplyScalarAndAdd",function(){return Ne}),a.d(l,"mul",function(){return xr}),a.d(l,"sub",function(){return _r});var s={};a.r(s),a.d(s,"create",function(){return Vt}),a.d(s,"clone",function(){return wr}),a.d(s,"fromValues",function(){return Or}),a.d(s,"copy",function(){return Mr}),a.d(s,"set",function(){return Sr}),a.d(s,"add",function(){return Rr}),a.d(s,"subtract",function(){return Gt}),a.d(s,"multiply",function(){return $t}),a.d(s,"divide",function(){return Ht}),a.d(s,"ceil",function(){return Ar}),a.d(s,"floor",function(){return Cr}),a.d(s,"min",function(){return Er}),a.d(s,"max",function(){return kr}),a.d(s,"round",function(){return jr}),a.d(s,"scale",function(){return Tr}),a.d(s,"scaleAndAdd",function(){return Pr}),a.d(s,"distance",function(){return Xt}),a.d(s,"squaredDistance",function(){return Yt}),a.d(s,"length",function(){return Qt}),a.d(s,"squaredLength",function(){return Kt}),a.d(s,"negate",function(){return Dr}),a.d(s,"inverse",function(){return Ir}),a.d(s,"normalize",function(){return Lr}),a.d(s,"dot",function(){return Nr}),a.d(s,"cross",function(){return zr}),a.d(s,"lerp",function(){return Ur}),a.d(s,"random",function(){return Wr}),a.d(s,"transformMat2",function(){return Br}),a.d(s,"transformMat2d",function(){return Fr}),a.d(s,"transformMat3",function(){return qr}),a.d(s,"transformMat4",function(){return Vr}),a.d(s,"rotate",function(){return Gr}),a.d(s,"angle",function(){return $r}),a.d(s,"signedAngle",function(){return Hr}),a.d(s,"zero",function(){return Xr}),a.d(s,"str",function(){return Yr}),a.d(s,"exactEquals",function(){return Qr}),a.d(s,"equals",function(){return Kr}),a.d(s,"len",function(){return Jr}),a.d(s,"sub",function(){return Zr}),a.d(s,"mul",function(){return eo}),a.d(s,"div",function(){return to}),a.d(s,"dist",function(){return no}),a.d(s,"sqrDist",function(){return ro}),a.d(s,"sqrLen",function(){return oo}),a.d(s,"forEach",function(){return ao});var v={};a.r(v),a.d(v,"create",function(){return Jt}),a.d(v,"clone",function(){return io}),a.d(v,"length",function(){return Zt}),a.d(v,"fromValues",function(){return uo}),a.d(v,"copy",function(){return co}),a.d(v,"set",function(){return so}),a.d(v,"add",function(){return lo}),a.d(v,"subtract",function(){return en}),a.d(v,"multiply",function(){return tn}),a.d(v,"divide",function(){return nn}),a.d(v,"ceil",function(){return fo}),a.d(v,"floor",function(){return ho}),a.d(v,"min",function(){return vo}),a.d(v,"max",function(){return po}),a.d(v,"round",function(){return go}),a.d(v,"scale",function(){return yo}),a.d(v,"scaleAndAdd",function(){return mo}),a.d(v,"distance",function(){return rn}),a.d(v,"squaredDistance",function(){return on}),a.d(v,"squaredLength",function(){return an}),a.d(v,"negate",function(){return bo}),a.d(v,"inverse",function(){return xo}),a.d(v,"normalize",function(){return _o}),a.d(v,"dot",function(){return At}),a.d(v,"cross",function(){return wo}),a.d(v,"lerp",function(){return Oo}),a.d(v,"slerp",function(){return Mo}),a.d(v,"hermite",function(){return So}),a.d(v,"bezier",function(){return Ro}),a.d(v,"random",function(){return Ao}),a.d(v,"transformMat4",function(){return Co}),a.d(v,"transformMat3",function(){return Eo}),a.d(v,"transformQuat",function(){return ko}),a.d(v,"rotateX",function(){return jo}),a.d(v,"rotateY",function(){return To}),a.d(v,"rotateZ",function(){return Po}),a.d(v,"angle",function(){return Do}),a.d(v,"zero",function(){return Io}),a.d(v,"str",function(){return Lo}),a.d(v,"exactEquals",function(){return No}),a.d(v,"equals",function(){return zo}),a.d(v,"sub",function(){return Uo}),a.d(v,"mul",function(){return Wo}),a.d(v,"div",function(){return Bo}),a.d(v,"dist",function(){return Fo}),a.d(v,"sqrDist",function(){return qo}),a.d(v,"len",function(){return Vo}),a.d(v,"sqrLen",function(){return Go}),a.d(v,"forEach",function(){return $o});var p={};a.r(p),a.d(p,"BarcodeReader",function(){return Ue}),a.d(p,"TwoOfFiveReader",function(){return hn}),a.d(p,"NewCodabarReader",function(){return pn}),a.d(p,"Code128Reader",function(){return gn}),a.d(p,"Code32Reader",function(){return mn}),a.d(p,"Code39Reader",function(){return gt}),a.d(p,"Code39VINReader",function(){return bn}),a.d(p,"Code93Reader",function(){return _n}),a.d(p,"EAN2Reader",function(){return Rn}),a.d(p,"EAN5Reader",function(){return An}),a.d(p,"EAN8Reader",function(){return Cn}),a.d(p,"EANReader",function(){return qe}),a.d(p,"I2of5Reader",function(){return En}),a.d(p,"PharmacodeReader",function(){return Lt}),a.d(p,"UPCEReader",function(){return In}),a.d(p,"UPCReader",function(){return Ln});var m=a(9),x=a.n(m),M=a(15),R=a.n(M),D=(a(141),a(80)),I=a.n(D),F=a(2),U=a.n(F),X=a(3),L=a.n(X),te=a(0),A=a.n(te),$=typeof Float32Array<"u"?Float32Array:Array,re=Math.random;function ce(t){return t>=0?Math.round(t):t%.5==0?Math.floor(t):Math.round(t)}function pe(){var t=new $(4);return $!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function he(t){var r=new $(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function ye(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function J(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function se(t,r,e,n){var o=new $(4);return o[0]=t,o[1]=r,o[2]=e,o[3]=n,o}function K(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function Z(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function ie(t,r){var e=r[0],n=r[1],o=r[2],i=r[3],u=e*i-o*n;return u?(u=1/u,t[0]=i*u,t[1]=-n*u,t[2]=-o*u,t[3]=e*u,t):null}function me(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function H(t){return t[0]*t[3]-t[2]*t[1]}function V(t,r,e){var n=r[0],o=r[1],i=r[2],u=r[3],f=e[0],h=e[1],d=e[2],g=e[3];return t[0]=n*f+i*h,t[1]=o*f+u*h,t[2]=n*d+i*g,t[3]=o*d+u*g,t}function E(t,r,e){var n=r[0],o=r[1],i=r[2],u=r[3],f=Math.sin(e),h=Math.cos(e);return t[0]=n*h+i*f,t[1]=o*h+u*f,t[2]=n*-f+i*h,t[3]=o*-f+u*h,t}function j(t,r,e){var n=r[0],o=r[1],i=r[2],u=r[3],f=e[0],h=e[1];return t[0]=n*f,t[1]=o*f,t[2]=i*h,t[3]=u*h,t}function P(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function W(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function q(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function G(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3])}function fe(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function ve(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function be(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function de(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function Ae(t,r){var e=t[0],n=t[1],o=t[2],i=t[3],u=r[0],f=r[1],h=r[2],d=r[3];return Math.abs(e-u)<=1e-6*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(n-f)<=1e-6*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-h)<=1e-6*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-d)<=1e-6*Math.max(1,Math.abs(i),Math.abs(d))}function Ye(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function Ne(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}var xr=V,_r=be;function Vt(){var t=new $(2);return $!=Float32Array&&(t[0]=0,t[1]=0),t}function wr(t){var r=new $(2);return r[0]=t[0],r[1]=t[1],r}function Or(t,r){var e=new $(2);return e[0]=t,e[1]=r,e}function Mr(t,r){return t[0]=r[0],t[1]=r[1],t}function Sr(t,r,e){return t[0]=r,t[1]=e,t}function Rr(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t}function Gt(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function $t(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function Ht(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function Ar(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function Cr(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function Er(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t}function kr(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t}function jr(t,r){return t[0]=ce(r[0]),t[1]=ce(r[1]),t}function Tr(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t}function Pr(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t}function Xt(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.sqrt(e*e+n*n)}function Yt(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function Qt(t){var r=t[0],e=t[1];return Math.sqrt(r*r+e*e)}function Kt(t){var r=t[0],e=t[1];return r*r+e*e}function Dr(t,r){return t[0]=-r[0],t[1]=-r[1],t}function Ir(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function Lr(t,r){var e=r[0],n=r[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t}function Nr(t,r){return t[0]*r[0]+t[1]*r[1]}function zr(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t}function Ur(t,r,e,n){var o=r[0],i=r[1];return t[0]=o+n*(e[0]-o),t[1]=i+n*(e[1]-i),t}function Wr(t,r){r=r===void 0?1:r;var e=2*re()*Math.PI;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t}function Br(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o,t[1]=e[1]*n+e[3]*o,t}function Fr(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o+e[4],t[1]=e[1]*n+e[3]*o+e[5],t}function qr(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[3]*o+e[6],t[1]=e[1]*n+e[4]*o+e[7],t}function Vr(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[4]*o+e[12],t[1]=e[1]*n+e[5]*o+e[13],t}function Gr(t,r,e,n){var o=r[0]-e[0],i=r[1]-e[1],u=Math.sin(n),f=Math.cos(n);return t[0]=o*f-i*u+e[0],t[1]=o*u+i*f+e[1],t}function $r(t,r){var e=t[0],n=t[1],o=r[0],i=r[1];return Math.abs(Math.atan2(n*o-e*i,e*o+n*i))}function Hr(t,r){var e=t[0],n=t[1],o=r[0],i=r[1];return Math.atan2(e*i-n*o,e*o+n*i)}function Xr(t){return t[0]=0,t[1]=0,t}function Yr(t){return"vec2("+t[0]+", "+t[1]+")"}function Qr(t,r){return t[0]===r[0]&&t[1]===r[1]}function Kr(t,r){var e=t[0],n=t[1],o=r[0],i=r[1];return Math.abs(e-o)<=1e-6*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))}var Qe,Jr=Qt,Zr=Gt,eo=$t,to=Ht,no=Xt,ro=Yt,oo=Kt,ao=(Qe=Vt(),function(t,r,e,n,o,i){var u,f;for(r||(r=2),e||(e=0),f=n?Math.min(n*r+e,t.length):t.length,u=e;u<f;u+=r)Qe[0]=t[u],Qe[1]=t[u+1],o(Qe,Qe,i),t[u]=Qe[0],t[u+1]=Qe[1];return t});function Jt(){var t=new $(3);return $!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function io(t){var r=new $(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function Zt(t){var r=t[0],e=t[1],n=t[2];return Math.sqrt(r*r+e*e+n*n)}function uo(t,r,e){var n=new $(3);return n[0]=t,n[1]=r,n[2]=e,n}function co(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function so(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t}function lo(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function en(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function tn(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function nn(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function fo(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function ho(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function vo(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t}function po(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t}function go(t,r){return t[0]=ce(r[0]),t[1]=ce(r[1]),t[2]=ce(r[2]),t}function yo(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function mo(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t}function rn(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return Math.sqrt(e*e+n*n+o*o)}function on(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return e*e+n*n+o*o}function an(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n}function bo(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function xo(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function _o(t,r){var e=r[0],n=r[1],o=r[2],i=e*e+n*n+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t}function At(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function wo(t,r,e){var n=r[0],o=r[1],i=r[2],u=e[0],f=e[1],h=e[2];return t[0]=o*h-i*f,t[1]=i*u-n*h,t[2]=n*f-o*u,t}function Oo(t,r,e,n){var o=r[0],i=r[1],u=r[2];return t[0]=o+n*(e[0]-o),t[1]=i+n*(e[1]-i),t[2]=u+n*(e[2]-u),t}function Mo(t,r,e,n){var o=Math.acos(Math.min(Math.max(At(r,e),-1),1)),i=Math.sin(o),u=Math.sin((1-n)*o)/i,f=Math.sin(n*o)/i;return t[0]=u*r[0]+f*e[0],t[1]=u*r[1]+f*e[1],t[2]=u*r[2]+f*e[2],t}function So(t,r,e,n,o,i){var u=i*i,f=u*(2*i-3)+1,h=u*(i-2)+i,d=u*(i-1),g=u*(3-2*i);return t[0]=r[0]*f+e[0]*h+n[0]*d+o[0]*g,t[1]=r[1]*f+e[1]*h+n[1]*d+o[1]*g,t[2]=r[2]*f+e[2]*h+n[2]*d+o[2]*g,t}function Ro(t,r,e,n,o,i){var u=1-i,f=u*u,h=i*i,d=f*u,g=3*i*f,y=3*h*u,_=h*i;return t[0]=r[0]*d+e[0]*g+n[0]*y+o[0]*_,t[1]=r[1]*d+e[1]*g+n[1]*y+o[1]*_,t[2]=r[2]*d+e[2]*g+n[2]*y+o[2]*_,t}function Ao(t,r){r=r===void 0?1:r;var e=2*re()*Math.PI,n=2*re()-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*r,t}function Co(t,r,e){var n=r[0],o=r[1],i=r[2],u=e[3]*n+e[7]*o+e[11]*i+e[15];return u=u||1,t[0]=(e[0]*n+e[4]*o+e[8]*i+e[12])/u,t[1]=(e[1]*n+e[5]*o+e[9]*i+e[13])/u,t[2]=(e[2]*n+e[6]*o+e[10]*i+e[14])/u,t}function Eo(t,r,e){var n=r[0],o=r[1],i=r[2];return t[0]=n*e[0]+o*e[3]+i*e[6],t[1]=n*e[1]+o*e[4]+i*e[7],t[2]=n*e[2]+o*e[5]+i*e[8],t}function ko(t,r,e){var n=e[0],o=e[1],i=e[2],u=e[3],f=r[0],h=r[1],d=r[2],g=o*d-i*h,y=i*f-n*d,_=n*h-o*f;return g+=g,y+=y,_+=_,t[0]=f+u*g+o*_-i*y,t[1]=h+u*y+i*g-n*_,t[2]=d+u*_+n*y-o*g,t}function jo(t,r,e,n){var o=[],i=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function To(t,r,e,n){var o=[],i=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function Po(t,r,e,n){var o=[],i=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function Do(t,r){var e=t[0],n=t[1],o=t[2],i=r[0],u=r[1],f=r[2],h=Math.sqrt((e*e+n*n+o*o)*(i*i+u*u+f*f)),d=h&&At(t,r)/h;return Math.acos(Math.min(Math.max(d,-1),1))}function Io(t){return t[0]=0,t[1]=0,t[2]=0,t}function Lo(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function No(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function zo(t,r){var e=t[0],n=t[1],o=t[2],i=r[0],u=r[1],f=r[2];return Math.abs(e-i)<=1e-6*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-u)<=1e-6*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-f)<=1e-6*Math.max(1,Math.abs(o),Math.abs(f))}var Uo=en,Wo=tn,Bo=nn,Fo=rn,qo=on,Vo=Zt,Go=an,$o=function(){var t=Jt();return function(r,e,n,o,i,u){var f,h;for(e||(e=3),n||(n=0),h=o?Math.min(o*e+n,r.length):r.length,f=n;f<h;f+=e)t[0]=r[f],t[1]=r[f+1],t[2]=r[f+2],i(t,t,u),r[f]=t[0],r[f+1]=t[1],r[f+2]=t[2];return r}}(),nt=function(t,r){t.fill(r)},Ho=function(t){for(var r=0,e=0;e<t.length;e++)t[e]>t[r]&&(r=e);return r},Ct=function(t){for(var r=t.length,e=0;r--;)e+=t[r];return e},Xo=function(t,r){var e=[],n={rad:0,vec:s.clone([0,0])},o={};function i(f){o[f.id]=f,e.push(f)}function u(){var f,h=0;for(f=0;f<e.length;f++)h+=e[f].rad;n.rad=h/e.length,n.vec=s.clone([Math.cos(n.rad),Math.sin(n.rad)])}return i(t),u(),{add:function(f){o[f.id]||(i(f),u())},fits:function(f){return Math.abs(s.dot(f.point.vec,n.vec))>r},getPoints:function(){return e},getCenter:function(){return n}}},Yo=function(t,r,e){return{rad:t[e],point:t,id:r}};function Et(t,r){return{x:t,y:r,toVec2:function(){return s.clone([this.x,this.y])},toVec3:function(){return v.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function Qo(t,r){r||(r=8);for(var e=t.data,n=e.length,o=8-r,i=new Int32Array(1<<r);n--;)i[e[n]>>o]++;return i}function Ko(t,r){var e=function(n){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,u=8-i;function f(y,_){for(var O=0,C=y;C<=_;C++)O+=o[C];return O}function h(y,_){for(var O=0,C=y;C<=_;C++)O+=C*o[C];return O}function d(){var y,_,O,C,w=[0],S=(1<<i)-1;o=Qo(n,i);for(var k=1;k<S;k++)(O=(y=f(0,k))*(_=f(k+1,S)))===0&&(O=1),C=h(0,k)*_-h(k+1,S)*y,w[k]=C*C/O;return Ho(w)}var g=d();return g<<u}(t);return function(n,o,i){i||(i=n);for(var u=n.data,f=u.length,h=i.data;f--;)h[f]=u[f]<o?1:0}(t,e,r),e}function Jo(t,r,e){var n=t.length/4|0;if(e&&e.singleChannel===!0)for(var o=0;o<n;o++){var i=t[4*o+3];r[o]=i===0?255:t[4*o+0]}else for(var u=0;u<n;u++){var f=t[4*u+3];r[u]=f===0?255:.299*t[4*u+0]+.587*t[4*u+1]+.114*t[4*u+2]}}function Zo(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],e=t[0],n=t[1],o=t[2],i=o*n,u=i*(1-Math.abs(e/60%2-1)),f=o-i,h=0,d=0,g=0;return e<60?(h=i,d=u):e<120?(h=u,d=i):e<180?(d=i,g=u):e<240?(d=u,g=i):e<300?(h=u,g=i):e<360&&(h=i,g=u),r[0]=255*(h+f)|0,r[1]=255*(d+f)|0,r[2]=255*(g+f)|0,r}function ht(t){if(!Number.isFinite(t)||t<1)return[];for(var r=[],e=[],n=Math.sqrt(t),o=1;o<=n;o++)t%o==0&&(e.push(o),o!==t/o&&r.unshift(Math.floor(t/o)));return e.concat(r)}function un(t,r){var e,n=ht(r.x),o=ht(r.y),i=Math.max(r.x,r.y),u=function(O,C){for(var w=0,S=0,k=[];w<O.length&&S<C.length;)O[w]===C[S]?(k.push(O[w]),w++,S++):O[w]>C[S]?S++:w++;return k}(n,o),f=[8,10,15,20,32,60,80],h={"x-small":5,small:4,medium:3,large:2,"x-large":1},d=h[t]||h.medium,g=f[d],y=Math.floor(i/g);function _(O){for(var C=0,w=O[Math.floor(O.length/2)];C<O.length-1&&O[C]<y;)C++;return C>0&&(w=Math.abs(O[C]-y)>Math.abs(O[C-1]-y)?O[C-1]:O[C]),y/w<f[d+1]/f[d]&&y/w>f[d-1]/f[d]?{x:w,y:w}:null}return(e=_(u))||(e=_(ht(i)))||(e=_(ht(y*g))),e||(e={x:Math.max(1,r.x),y:Math.max(1,r.y)}),e}var cn={top:function(t,r){return t.unit==="%"?Math.floor(r.height*(t.value/100)):null},right:function(t,r){return t.unit==="%"?Math.floor(r.width-r.width*(t.value/100)):null},bottom:function(t,r){return t.unit==="%"?Math.floor(r.height-r.height*(t.value/100)):null},left:function(t,r){return t.unit==="%"?Math.floor(r.width*(t.value/100)):null}};function ea(t,r,e){var n={width:t,height:r},o=Object.keys(e).reduce(function(i,u){if(!cn[u])return i;var f=function(d){return{value:parseFloat(d),unit:(d.indexOf("%"),d.length,"%")}}(e[u]),h=cn[u](f,n);return i[u]=h,i},{});return{sx:o.left,sy:o.top,sw:o.right-o.left,sh:o.bottom-o.top}}function kt(t){if(t<0)throw new Error("expected positive number, received ".concat(t))}var Ee=function(){return L()(function t(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,o=arguments.length>3?arguments[3]:void 0;U()(this,t),A()(this,"data",void 0),A()(this,"size",void 0),A()(this,"indexMapping",void 0),e?this.data=e:(this.data=new n(r.x*r.y),o&&nt(this.data,0)),this.size=r},[{key:"inImageWithBorder",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return kt(r),t.x>=0&&t.y>=0&&t.x<this.size.x+2*r&&t.y<this.size.y+2*r}},{key:"subImageAsCopy",value:function(t,r){kt(r.x),kt(r.y);for(var e=t.size,n=e.x,o=e.y,i=0;i<n;i++)for(var u=0;u<o;u++)t.data[u*n+i]=this.data[(r.y+u)*this.size.x+r.x+i];return t}},{key:"get",value:function(t,r){return this.data[r*this.size.x+t]}},{key:"getSafe",value:function(t,r){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var e=0;e<this.size.x;e++)this.indexMapping.x[e]=e,this.indexMapping.x[e+this.size.x]=e;for(var n=0;n<this.size.y;n++)this.indexMapping.y[n]=n,this.indexMapping.y[n+this.size.y]=n}return this.data[this.indexMapping.y[r+this.size.y]*this.size.x+this.indexMapping.x[t+this.size.x]]}},{key:"set",value:function(t,r,e){return this.data[r*this.size.x+t]=e,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var t=this.size,r=t.x,e=t.y,n=0;n<r;n++)this.data[n]=this.data[(e-1)*r+n]=0;for(var o=1;o<e-1;o++)this.data[o*r]=this.data[o*r+(r-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(t){var r,e,n,o,i,u,f,h,d,g,y=this.data,_=this.size.y,O=this.size.x,C=[],w=[],S=Math.PI,k=S/4;if(t<=0)return w;for(i=0;i<t;i++)C[i]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(e=0;e<_;e++)for(o=e*e,r=0;r<O;r++)(n=y[e*O+r])>0&&((u=C[n-1]).m00+=1,u.m01+=e,u.m10+=r,u.m11+=r*e,u.m02+=o,u.m20+=r*r);for(i=0;i<t;i++)u=C[i],isNaN(u.m00)||u.m00===0||(h=u.m10/u.m00,d=u.m01/u.m00,f=u.m11/u.m00-h*d,g=(u.m02/u.m00-d*d-(u.m20/u.m00-h*h))/(2*f),g=.5*Math.atan(g)+(f>=0?k:-k)+S,u.theta=(180*g/S+90)%180-90,u.theta<0&&(u.theta+=180),u.rad=g>S?g-S:g,u.vec=s.clone([Math.cos(g),Math.sin(g)]),w.push(u));return w}},{key:"getAsRGBA",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=new Uint8ClampedArray(4*this.size.x*this.size.y),e=0;e<this.size.y;e++)for(var n=0;n<this.size.x;n++){var o=e*this.size.x+n,i=this.get(n,e)*t;r[4*o+0]=i,r[4*o+1]=i,r[4*o+2]=i,r[4*o+3]=255}return r}},{key:"show",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var e=t.getContext("2d");if(!e)throw new Error("Unable to get canvas context");var n=e.getImageData(0,0,t.width,t.height),o=this.getAsRGBA(r);t.width=this.size.x,t.height=this.size.y;var i=new ImageData(o,n.width,n.height);e.putImageData(i,0,0)}},{key:"overlay",value:function(t,r,e){var n=r<0||r>360?360:r,o=[0,1,1],i=[0,0,0],u=[255,255,255],f=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var h=t.getContext("2d");if(!h)throw new Error("Unable to get canvas context");for(var d=h.getImageData(e.x,e.y,this.size.x,this.size.y),g=d.data,y=this.data.length;y--;){o[0]=this.data[y]*n;var _=4*y,O=o[0]<=0?u:o[0]>=360?f:Zo(o,i),C=I()(O,3);g[_]=C[0],g[_+1]=C[1],g[_+2]=C[2],g[_+3]=255}h.putImageData(d,e.x,e.y)}}])}(),ta=a(7),ze=a.n(ta),na=a(6),xe=a.n(na),jt={drawRect:function(t,r,e,n){e.strokeStyle=n.color,e.fillStyle=n.color,e.lineWidth=n.lineWidth||1,e.beginPath(),e.strokeRect(t.x,t.y,r.x,r.y)},drawPath:function(t,r,e,n){e.strokeStyle=n.color,e.fillStyle=n.color,e.lineWidth=n.lineWidth,e.beginPath(),e.moveTo(t[0][r.x],t[0][r.y]);for(var o=1;o<t.length;o++)e.lineTo(t[o][r.x],t[o][r.y]);e.closePath(),e.stroke()},drawImage:function(t,r,e){var n=e.getImageData(0,0,r.x,r.y),o=n.data,i=o.length,u=t.length;if(i/u!=4)return!1;for(;u--;){var f=t[u];o[--i]=255,o[--i]=f,o[--i]=f,o[--i]=f}return e.putImageData(n,0,0),!0}},ra=a(4),we=a.n(ra),oa=a(1),oe=a.n(oa),aa=a(5),Me=a.n(aa),sn=function(t){return t[t.Forward=1]="Forward",t[t.Reverse=-1]="Reverse",t}({}),ln=function(){return L()(function t(r,e){U()(this,t),A()(this,"_row",[]),A()(this,"config",{}),A()(this,"supplements",[]),A()(this,"SINGLE_CODE_ERROR",0),A()(this,"FORMAT","unknown"),A()(this,"CONFIG_KEYS",{}),this._row=[],this.config=r||{},e&&(this.supplements=e)},[{key:"_nextUnset",value:function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=r;e<t.length;e++)if(!t[e])return e;return t.length}},{key:"_matchPattern",value:function(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,n=0,o=0,i=0,u=0,f=0,h=0,d=0,g=0;g<t.length;g++)i+=t[g],u+=r[g];if(i<u)return Number.MAX_VALUE;e*=f=i/u;for(var y=0;y<t.length;y++){if(h=t[y],d=r[y]*f,(o=Math.abs(h-d)/d)>e)return Number.MAX_VALUE;n+=o}return n/u}},{key:"_nextSet",value:function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=r;e<t.length;e++)if(t[e])return e;return t.length}},{key:"_correctBars",value:function(t,r,e){for(var n=e.length,o=0;n--;)(o=t[e[n]]*(1-(1-r)/2))>1&&(t[e[n]]=o)}},{key:"decodePattern",value:function(t){this._row=t;var r=this.decode();return r===null?(this._row.reverse(),(r=this.decode())&&(r.direction=sn.Reverse,r.start=this._row.length-r.start,r.end=this._row.length-r.end)):r.direction=sn.Forward,r&&(r.format=this.FORMAT),r}},{key:"_matchRange",value:function(t,r,e){var n;for(n=t=t<0?0:t;n<r;n++)if(this._row[n]!==e)return!1;return!0}},{key:"_fillCounters",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,e=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=[],o=0;n[o]=0;for(var i=t;i<r;i++)this._row[i]^(e?1:0)?n[o]++:(n[++o]=1,e=!e);return n}},{key:"_toCounters",value:function(t,r){var e=r.length,n=this._row.length,o=!this._row[t],i=0;nt(r,0);for(var u=t;u<n;u++)if(this._row[u]^(o?1:0))r[i]++;else{if(++i===e)break;r[i]=1,o=!o}return r}},{key:"decodeImage",value:function(t){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}])}();A()(ln,"adjacentLineValidationMatches",0);var Ue=ln;function ia(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var fn=[3,1,3,1,1,1],ua=[3,1,1,1,3],dn=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],ca=fn.reduce(function(t,r){return t+r},0),hn=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ia(this,r,[].concat(o)),A()(e,"barSpaceRatio",[1,1]),A()(e,"FORMAT","2of5"),A()(e,"SINGLE_CODE_ERROR",.78),A()(e,"AVG_CODE_ERROR",.3),e}return Me()(r,t),L()(r,[{key:"_findPattern",value:function(e,n){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0&&arguments[3],u=[],f=0,h={error:Number.MAX_VALUE,code:-1,start:0,end:0},d=0,g=0,y=this.AVG_CODE_ERROR;n||(n=this._nextSet(this._row));for(var _=0;_<e.length;_++)u[_]=0;for(var O=n;O<this._row.length;O++)if(this._row[O]^(o?1:0))u[f]++;else{if(f===u.length-1){d=0;for(var C=0;C<u.length;C++)d+=u[C];if((g=this._matchPattern(u,e))<y)return h.error=g,h.start=O-d,h.end=O,h;if(!i)return null;for(var w=0;w<u.length-2;w++)u[w]=u[w+2];u[u.length-2]=0,u[u.length-1]=0,f--}else f++;u[f]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var e=null,n=this._nextSet(this._row),o=1,i=0;!e;){if(!(e=this._findPattern(fn,n,!1,!0)))return null;if(o=Math.floor((e.end-e.start)/ca),(i=e.start-5*o)>=0&&this._matchRange(i,e.start,0))return e;n=e.end,e=null}return e}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start)/2;return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"_findEnd",value:function(){this._row.reverse();var e=this._nextSet(this._row),n=this._findPattern(ua,e,!1,!0);if(this._row.reverse(),n===null)return null;var o=n.start;return n.start=this._row.length-n.end,n.end=this._row.length-o,n!==null?this._verifyTrailingWhitespace(n):null}},{key:"_verifyCounterLength",value:function(e){return e.length%10==0}},{key:"_decodeCode",value:function(e){for(var n=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},i=0;i<dn.length;i++){var u=this._matchPattern(e,dn[i]);u<o.error&&(o.code=i,o.error=u)}return o.error<n?o:null}},{key:"_decodePayload",value:function(e,n,o){for(var i=0,u=e.length,f=[0,0,0,0,0],h=null;i<u;){for(var d=0;d<5;d++)f[d]=e[i]*this.barSpaceRatio[0],i+=2;if(!(h=this._decodeCode(f)))return null;n.push("".concat(h.code)),o.push(h)}return h}},{key:"decode",value:function(e,n){var o=this._findStart();if(!o)return null;var i=this._findEnd();if(!i)return null;var u=this._fillCounters(o.end,i.start,!1);if(!this._verifyCounterLength(u))return null;var f=[];f.push(o);var h=[];return this._decodePayload(u,h,f)?h.length<5?null:(f.push(i),{code:h.join(""),start:o.start,end:i.end,startInfo:o,decodedCodes:f,format:this.FORMAT}):null}}])}(Ue);function sa(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var Tt=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Pt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],vn=[26,41,11,14],pn=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=sa(this,r,[].concat(o)),A()(e,"_counters",[]),A()(e,"FORMAT","codabar"),e}return Me()(r,t),L()(r,[{key:"_computeAlternatingThreshold",value:function(e,n){for(var o=Number.MAX_VALUE,i=0,u=0,f=e;f<n;f+=2)(u=this._counters[f])>i&&(i=u),u<o&&(o=u);return(o+i)/2|0}},{key:"_toPattern",value:function(e){var n=e+7;if(n>this._counters.length)return-1;for(var o=this._computeAlternatingThreshold(e,n),i=this._computeAlternatingThreshold(e+1,n),u=64,f=0,h=0,d=0;d<7;d++)f=1&d?i:o,this._counters[e+d]>f&&(h|=u),u>>=1;return h}},{key:"_isStartEnd",value:function(e){for(var n=0;n<vn.length;n++)if(vn[n]===e)return!0;return!1}},{key:"_sumCounters",value:function(e,n){for(var o=0,i=e;i<n;i++)o+=this._counters[i];return o}},{key:"_findStart",value:function(){for(var e=this._nextUnset(this._row),n=1;n<this._counters.length;n++){var o=this._toPattern(n);if(o!==-1&&this._isStartEnd(o))return{start:e+=this._sumCounters(0,n),end:e+this._sumCounters(n,n+8),startCounter:n,endCounter:n+8}}return null}},{key:"_patternToChar",value:function(e){for(var n=0;n<Pt.length;n++)if(Pt[n]===e)return String.fromCharCode(Tt[n]);return null}},{key:"_calculatePatternLength",value:function(e){for(var n=0,o=e;o<e+7;o++)n+=this._counters[o];return n}},{key:"_verifyWhitespace",value:function(e,n){return(e-1<=0||this._counters[e-1]>=this._calculatePatternLength(e)/2)&&(n+8>=this._counters.length||this._counters[n+7]>=this._calculatePatternLength(n)/2)}},{key:"_charToPattern",value:function(e){for(var n=e.charCodeAt(0),o=0;o<Tt.length;o++)if(Tt[o]===n)return Pt[o];return 0}},{key:"_thresholdResultPattern",value:function(e,n){for(var o,i={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},u=n,f=0;f<e.length;f++){o=this._charToPattern(e[f]);for(var h=6;h>=0;h--){var d=(1&h)==2?i.bar:i.space,g=(1&o)==1?d.wide:d.narrow;g.size+=this._counters[u+h],g.counts++,o>>=1}u+=8}return["space","bar"].forEach(function(y){var _=i[y];_.wide.min=Math.floor((_.narrow.size/_.narrow.counts+_.wide.size/_.wide.counts)/2),_.narrow.max=Math.ceil(_.wide.min),_.wide.max=Math.ceil((2*_.wide.size+1.5)/_.wide.counts)}),i}},{key:"_validateResult",value:function(e,n){for(var o,i=this._thresholdResultPattern(e,n),u=n,f=0;f<e.length;f++){o=this._charToPattern(e[f]);for(var h=6;h>=0;h--){var d=1&h?i.space:i.bar,g=(1&o)==1?d.wide:d.narrow,y=this._counters[u+h];if(y<g.min||y>g.max)return!1;o>>=1}u+=8}return!0}},{key:"decode",value:function(e,n){if(this._counters=this._fillCounters(),!(n=this._findStart()))return null;var o,i=n.startCounter,u=[];do{if((o=this._toPattern(i))<0)return null;var f=this._patternToChar(o);if(f===null)return null;if(u.push(f),i+=8,u.length>1&&this._isStartEnd(o))break}while(i<this._counters.length);if(u.length-2<4||!this._isStartEnd(o)||!this._verifyWhitespace(n.startCounter,i-8)||!this._validateResult(u,n.startCounter))return null;i=i>this._counters.length?this._counters.length:i;var h=n.start+this._sumCounters(n.startCounter,i-8);return{code:u.join(""),start:n.start,end:h,startInfo:n,decodedCodes:u,format:this.FORMAT}}}])}(Ue);function la(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var gn=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=la(this,r,[].concat(o)),A()(e,"CODE_SHIFT",98),A()(e,"CODE_C",99),A()(e,"CODE_B",100),A()(e,"CODE_A",101),A()(e,"FNC1",102),A()(e,"START_CODE_A",103),A()(e,"START_CODE_B",104),A()(e,"START_CODE_C",105),A()(e,"STOP_CODE",106),A()(e,"FNC1_CHAR",String.fromCharCode(29)),A()(e,"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),A()(e,"SINGLE_CODE_ERROR",.64),A()(e,"AVG_CODE_ERROR",.3),A()(e,"FORMAT","code_128"),A()(e,"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),e}return Me()(r,t),L()(r,[{key:"_decodeCode",value:function(e,n){for(var o={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}},i=[0,0,0,0,0,0],u=e,f=!this._row[u],h=0,d=u;d<this._row.length;d++)if(this._row[d]^(f?1:0))i[h]++;else{if(h===i.length-1){n&&this._correct(i,n);for(var g=0;g<this.CODE_PATTERN.length;g++){var y=this._matchPattern(i,this.CODE_PATTERN[g]);y<o.error&&(o.code=g,o.error=y)}return o.end=d,o.code===-1||o.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[o.code]&&(o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],i,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],i,this.MODULE_INDICES.space)),o)}i[++h]=1,f=!f}return null}},{key:"_correct",value:function(e,n){this._correctBars(e,n.bar,this.MODULE_INDICES.bar),this._correctBars(e,n.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var e=[0,0,0,0,0,0],n=this._nextSet(this._row),o={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},i=!1,u=0,f=n;f<this._row.length;f++)if(this._row[f]^(i?1:0))e[u]++;else{if(u===e.length-1){for(var h=e.reduce(function(_,O){return _+O},0),d=this.START_CODE_A;d<=this.START_CODE_C;d++){var g=this._matchPattern(e,this.CODE_PATTERN[d]);g<o.error&&(o.code=d,o.error=g)}if(o.error<this.AVG_CODE_ERROR)return o.start=f-h,o.end=f,o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],e,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],e,this.MODULE_INDICES.space),o;for(var y=0;y<4;y++)e[y]=e[y+2];e[4]=0,e[5]=0,u--}else u++;e[u]=1,i=!i}return null}},{key:"decode",value:function(e,n){var o=this,i=this._findStart();if(i===null)return null;var u={code:i.code,start:i.start,end:i.end,correction:{bar:i.correction.bar,space:i.correction.space}},f=[];f.push(u);for(var h=u.code,d=function(k){switch(k){case o.START_CODE_A:return o.CODE_A;case o.START_CODE_B:return o.CODE_B;case o.START_CODE_C:return o.CODE_C;default:return null}}(u.code),g=!1,y=!1,_=y,O=!0,C=0,w=[],S=[];!g;){if(_=y,y=!1,(u=this._decodeCode(u.end,u.correction))!==null)switch(u.code!==this.STOP_CODE&&(O=!0),u.code!==this.STOP_CODE&&(w.push(u.code),h+=++C*u.code),f.push(u),d){case this.CODE_A:if(u.code<64)S.push(String.fromCharCode(32+u.code));else if(u.code<96)S.push(String.fromCharCode(u.code-64));else switch(u.code!==this.STOP_CODE&&(O=!1),u.code){case this.CODE_SHIFT:y=!0,d=this.CODE_B;break;case this.CODE_B:d=this.CODE_B;break;case this.CODE_C:d=this.CODE_C;break;case this.FNC1:S.push(this.FNC1_CHAR);break;case this.STOP_CODE:g=!0}break;case this.CODE_B:if(u.code<96)S.push(String.fromCharCode(32+u.code));else switch(u.code!==this.STOP_CODE&&(O=!1),u.code){case this.CODE_SHIFT:y=!0,d=this.CODE_A;break;case this.CODE_A:d=this.CODE_A;break;case this.CODE_C:d=this.CODE_C;break;case this.FNC1:S.push(this.FNC1_CHAR);break;case this.STOP_CODE:g=!0}break;case this.CODE_C:if(u.code<100)S.push(u.code<10?"0"+u.code:u.code);else switch(u.code!==this.STOP_CODE&&(O=!1),u.code){case this.CODE_A:d=this.CODE_A;break;case this.CODE_B:d=this.CODE_B;break;case this.FNC1:S.push(this.FNC1_CHAR);break;case this.STOP_CODE:g=!0}}else g=!0;_&&(d=d===this.CODE_A?this.CODE_B:this.CODE_A)}return u===null?null:(u.end=this._nextUnset(this._row,u.end),this._verifyTrailingWhitespace(u)?(h-=C*w[w.length-1])%103!==w[w.length-1]?null:S.length?(O&&S.splice(S.length-1,1),{code:S.join(""),start:i.start,end:u.end,codeset:d,startInfo:i,decodedCodes:f,endInfo:u,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(e){var n;return(n=e.end+(e.end-e.start)/2)<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"calculateCorrection",value:function(e,n,o){for(var i=o.length,u=0,f=0;i--;)f+=e[o[i]],u+=n[o[i]];return f/u}}])}(Ue),fa=a(13),vt=a.n(fa),da=a(16),pt=a.n(da);function ha(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var va=new Uint16Array(pt()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(t){return t.charCodeAt(0)})),yn=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),gt=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ha(this,r,[].concat(o)),A()(e,"FORMAT","code_39"),e}return Me()(r,t),L()(r,[{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),n=e,o=new Uint16Array([0,0,0,0,0,0,0,0,0]),i=0,u=!1,f=e;f<this._row.length;f++)if(this._row[f]^(u?1:0))o[i]++;else{if(i===o.length-1){if(this._toPattern(o)===148){var h=Math.floor(Math.max(0,n-(f-n)/4));if(this._matchRange(h,n,0))return{start:n,end:f}}n+=o[0]+o[1];for(var d=0;d<7;d++)o[d]=o[d+2];o[7]=0,o[8]=0,i--}else i++;o[i]=1,u=!u}return null}},{key:"_toPattern",value:function(e){for(var n=e.length,o=0,i=n,u=0;i>3;){o=this._findNextWidth(e,o),i=0;for(var f=0,h=0;h<n;h++)e[h]>o&&(f|=1<<n-1-h,i++,u+=e[h]);if(i===3){for(var d=0;d<n&&i>0;d++)if(e[d]>o&&(i--,2*e[d]>=u))return-1;return f}}return-1}},{key:"_findNextWidth",value:function(e,n){for(var o=Number.MAX_VALUE,i=0;i<e.length;i++)e[i]<o&&e[i]>n&&(o=e[i]);return o}},{key:"_patternToChar",value:function(e){for(var n=0;n<yn.length;n++)if(yn[n]===e)return String.fromCharCode(va[n]);return null}},{key:"_verifyTrailingWhitespace",value:function(e,n,o){var i=Ct(o);return 3*(n-e-i)>=i}},{key:"decode",value:function(){var e=new Uint16Array([0,0,0,0,0,0,0,0,0]),n=[],o=this._findStart();if(!o)return null;var i,u,f=this._nextSet(this._row,o.end);do{e=this._toCounters(f,e);var h=this._toPattern(e);if(h<0||(i=this._patternToChar(h))===null)return null;n.push(i),u=f,f+=Ct(e),f=this._nextSet(this._row,f)}while(i!=="*");return n.pop(),n.length&&this._verifyTrailingWhitespace(u,f,e)?{code:n.join(""),start:o.start,end:f,startInfo:o,decodedCodes:n,format:this.FORMAT}:null}}])}(Ue);function pa(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var ga=/[AEIO]/g,mn=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=pa(this,r,[].concat(o)),A()(e,"FORMAT","code_32_reader"),e}return Me()(r,t),L()(r,[{key:"_decodeCode32",value:function(e){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(e))return null;for(var n=0,o=0;o<e.length;o++)n=32*n+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(e[o]);var i="".concat(n);return i.length<9&&(i=("000000000"+i).slice(-9)),"A"+i}},{key:"_checkChecksum",value:function(e){return!!e}},{key:"decode",value:function(){var e,n,o,i,u,f=(e=r,n="decode",o=this,i=3,u=vt()(oe()(1&i?e.prototype:e),n,o),2&i&&typeof u=="function"?function(g){return u.apply(o,g)}:u)([]);if(!f)return null;var h=f.code;if(!h||(h=h.replace(ga,""),!this._checkChecksum(h)))return null;var d=this._decodeCode32(h);return d?(f.code=d,f):null}}])}(gt);function ya(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var ma=/[IOQ]/g,ba=/[A-Z0-9]{17}/,bn=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ya(this,r,[].concat(o)),A()(e,"FORMAT","code_39_vin"),e}return Me()(r,t),L()(r,[{key:"_checkChecksum",value:function(e){return!!e}},{key:"decode",value:function(){var e,n,o,i,u,f=(e=r,n="decode",o=this,i=3,u=vt()(oe()(1&i?e.prototype:e),n,o),2&i&&typeof u=="function"?function(d){return u.apply(o,d)}:u)([]);if(!f)return null;var h=f.code;return h&&(h=h.replace(ma,"")).match(ba)&&this._checkChecksum(h)?(f.code=h,f):null}}])}(gt);function xa(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var Dt=new Uint16Array(pt()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(t){return t.charCodeAt(0)})),xn=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),_n=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=xa(this,r,[].concat(o)),A()(e,"FORMAT","code_93"),e}return Me()(r,t),L()(r,[{key:"_patternToChar",value:function(e){for(var n=0;n<xn.length;n++)if(xn[n]===e)return String.fromCharCode(Dt[n]);return null}},{key:"_toPattern",value:function(e){for(var n=e.length,o=e.reduce(function(d,g){return d+g},0),i=0,u=0;u<n;u++){var f=Math.round(9*e[u]/o);if(f<1||f>4)return-1;if(1&u)i<<=f;else for(var h=0;h<f;h++)i=i<<1|1}return i}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),n=e,o=new Uint16Array([0,0,0,0,0,0]),i=0,u=!1,f=e;f<this._row.length;f++)if(this._row[f]^(u?1:0))o[i]++;else{if(i===o.length-1){if(this._toPattern(o)===350){var h=Math.floor(Math.max(0,n-(f-n)/4));if(this._matchRange(h,n,0))return{start:n,end:f}}n+=o[0]+o[1];for(var d=0;d<4;d++)o[d]=o[d+2];o[4]=0,o[5]=0,i--}else i++;o[i]=1,u=!u}return null}},{key:"_verifyEnd",value:function(e,n){return!(e===n||!this._row[n])}},{key:"_decodeExtended",value:function(e){for(var n=e.length,o=[],i=0;i<n;i++){var u=e[i];if(u>="a"&&u<="d"){if(i>n-2)return null;var f=e[++i],h=f.charCodeAt(0),d=void 0;switch(u){case"a":if(!(f>="A"&&f<="Z"))return null;d=String.fromCharCode(h-64);break;case"b":if(f>="A"&&f<="E")d=String.fromCharCode(h-38);else if(f>="F"&&f<="J")d=String.fromCharCode(h-11);else if(f>="K"&&f<="O")d=String.fromCharCode(h+16);else if(f>="P"&&f<="S")d=String.fromCharCode(h+43);else{if(!(f>="T"&&f<="Z"))return null;d=String.fromCharCode(127)}break;case"c":if(f>="A"&&f<="O")d=String.fromCharCode(h-32);else{if(f!=="Z")return null;d=":"}break;case"d":if(!(f>="A"&&f<="Z"))return null;d=String.fromCharCode(h+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",d),null}o.push(d)}else o.push(u)}return o}},{key:"_matchCheckChar",value:function(e,n,o){var i=e.slice(0,n),u=i.length,f=i.reduce(function(h,d,g){return h+((-1*g+(u-1))%o+1)*Dt.indexOf(d.charCodeAt(0))},0);return Dt[f%47]===e[n].charCodeAt(0)}},{key:"_verifyChecksums",value:function(e){return this._matchCheckChar(e,e.length-2,20)&&this._matchCheckChar(e,e.length-1,15)}},{key:"decode",value:function(e,n){if(!(n=this._findStart()))return null;var o,i,u=new Uint16Array([0,0,0,0,0,0]),f=[],h=this._nextSet(this._row,n.end);do{u=this._toCounters(h,u);var d=this._toPattern(u);if(d<0||(i=this._patternToChar(d))===null)return null;f.push(i),o=h,h+=Ct(u),h=this._nextSet(this._row,h)}while(i!=="*");return f.pop(),f.length&&this._verifyEnd(o,h)&&this._verifyChecksums(f)?(f=f.slice(0,f.length-2),(f=this._decodeExtended(f))===null?null:{code:f.join(""),start:n.start,end:h,startInfo:n,decodedCodes:f,format:this.FORMAT}):null}}])}(Ue);function wn(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function It(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?wn(Object(e),!0).forEach(function(n){A()(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):wn(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function _a(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var wa=[1,1,1],On=[1,1,1,1,1],Oa=[1,1,2],Mn=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Sn=[0,11,13,14,19,25,28,21,22,26],qe=function(t){function r(e,n){var o;return U()(this,r),o=_a(this,r,[R()({supplements:[]},e),n]),A()(o,"FORMAT","ean_13"),A()(o,"SINGLE_CODE_ERROR",.7),A()(o,"STOP_PATTERN",[1,1,1]),o}return Me()(r,t),L()(r,[{key:"_findPattern",value:function(e,n,o,i){var u=new Array(e.length).fill(0),f={error:Number.MAX_VALUE,start:0,end:0},h=0;n||(n=this._nextSet(this._row));for(var d=!1,g=n;g<this._row.length;g++)if(this._row[g]^(o?1:0))u[h]+=1;else{if(h===u.length-1){var y=this._matchPattern(u,e);if(y<.48&&f.error&&y<f.error)return d=!0,f.error=y,f.start=g-u.reduce(function(O,C){return O+C},0),f.end=g,f;if(i){for(var _=0;_<u.length-2;_++)u[_]=u[_+2];u[u.length-2]=0,u[u.length-1]=0,h--}}else h++;u[h]=1,o=!o}return d?f:null}},{key:"_decodeCode",value:function(e,n){var o=[0,0,0,0],i=e,u={error:Number.MAX_VALUE,code:-1,start:e,end:e},f=!this._row[i],h=0;n||(n=Mn.length);for(var d=i;d<this._row.length;d++)if(this._row[d]^(f?1:0))o[h]++;else{if(h===o.length-1){for(var g=0;g<n;g++){var y=this._matchPattern(o,Mn[g]);u.end=d,y<u.error&&(u.code=g,u.error=y)}return u.error>.48?null:u}o[++h]=1,f=!f}return null}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),n=null;!n;){if(!(n=this._findPattern(wa,e,!1,!0)))return null;var o=n.start-(n.end-n.start);if(o>=0&&this._matchRange(o,n.start,0))return n;e=n.end,n=null}return null}},{key:"_calculateFirstDigit",value:function(e){for(var n=0;n<Sn.length;n++)if(e===Sn[n])return n;return null}},{key:"_decodePayload",value:function(e,n,o){for(var i=It({},e),u=0,f=0;f<6;f++){if(!(i=this._decodeCode(i.end)))return null;i.code>=10?(i.code-=10,u|=1<<5-f):u|=0<<5-f,n.push(i.code),o.push(i)}var h=this._calculateFirstDigit(u);if(h===null)return null;n.unshift(h);var d=this._findPattern(On,i.end,!0,!1);if(d===null||!d.end)return null;o.push(d);for(var g=0;g<6;g++){if(!(d=this._decodeCode(d.end,10)))return null;o.push(d),n.push(d.code)}return d}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start);return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"_findEnd",value:function(e,n){var o=this._findPattern(this.STOP_PATTERN,e,n,!1);return o!==null?this._verifyTrailingWhitespace(o):null}},{key:"_checksum",value:function(e){for(var n=0,o=e.length-2;o>=0;o-=2)n+=e[o];n*=3;for(var i=e.length-1;i>=0;i-=2)n+=e[i];return n%10==0}},{key:"_decodeExtensions",value:function(e){var n=this._nextSet(this._row,e),o=this._findPattern(Oa,n,!1,!1);if(o===null)return null;for(var i=0;i<this.supplements.length;i++)try{var u=this.supplements[i].decode(this._row,o.end);if(u!==null)return{code:u.code,start:n,startInfo:o,end:u.end,decodedCodes:u.decodedCodes,format:this.supplements[i].FORMAT}}catch(f){console.error("* decodeExtensions error in ",this.supplements[i],": ",f)}return null}},{key:"decode",value:function(e,n){var o=new Array,i=new Array,u={},f=this._findStart();if(!f)return null;var h={start:f.start,end:f.end};if(i.push(h),!(h=this._decodePayload(h,o,i))||!(h=this._findEnd(h.end,!1))||(i.push(h),!this._checksum(o)))return null;if(this.supplements.length>0){var d=this._decodeExtensions(h.end);if(!d||!d.decodedCodes)return null;var g=d.decodedCodes[d.decodedCodes.length-1],y={start:g.start+((g.end-g.start)/2|0),end:g.end};if(!this._verifyTrailingWhitespace(y))return null;u={supplement:d,code:o.join("")+d.code}}return It(It({code:o.join(""),start:f.start,end:h.end,startInfo:f,decodedCodes:i},u),{},{format:this.FORMAT})}}])}(Ue);function Ma(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var Rn=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Ma(this,r,[].concat(o)),A()(e,"FORMAT","ean_2"),e}return Me()(r,t),L()(r,[{key:"decode",value:function(e,n){e&&(this._row=e);var o=0,i=n,u=this._row.length,f=[],h=[],d=null;if(i===void 0)return null;for(var g=0;g<2&&i<u;g++){if(!(d=this._decodeCode(i)))return null;h.push(d),f.push(d.code%10),d.code>=10&&(o|=1<<1-g),g!==1&&(i=this._nextSet(this._row,d.end),i=this._nextUnset(this._row,i))}if(f.length!==2||parseInt(f.join(""))%4!==o)return null;var y=this._findStart();return{code:f.join(""),decodedCodes:h,end:d.end,format:this.FORMAT,startInfo:y,start:y.start}}}])}(qe);function Sa(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var Ra=[24,20,18,17,12,6,3,10,9,5],An=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Sa(this,r,[].concat(o)),A()(e,"FORMAT","ean_5"),e}return Me()(r,t),L()(r,[{key:"decode",value:function(e,n){if(n===void 0)return null;e&&(this._row=e);for(var o=0,i=n,u=this._row.length,f=null,h=[],d=[],g=0;g<5&&i<u;g++){if(!(f=this._decodeCode(i)))return null;d.push(f),h.push(f.code%10),f.code>=10&&(o|=1<<4-g),g!==4&&(i=this._nextSet(this._row,f.end),i=this._nextUnset(this._row,i))}if(h.length!==5||function(_){for(var O=_.length,C=0,w=O-2;w>=0;w-=2)C+=_[w];C*=3;for(var S=O-1;S>=0;S-=2)C+=_[S];return(C*=3)%10}(h)!==function(_){for(var O=0;O<10;O++)if(_===Ra[O])return O;return null}(o))return null;var y=this._findStart();return{code:h.join(""),decodedCodes:d,end:f.end,format:this.FORMAT,startInfo:y,start:y.start}}}])}(qe);function Aa(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var Cn=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Aa(this,r,[].concat(o)),A()(e,"FORMAT","ean_8"),e}return Me()(r,t),L()(r,[{key:"_decodePayload",value:function(e,n,o){for(var i=e,u=0;u<4;u++){if(!(i=this._decodeCode(i.end,10)))return null;n.push(i.code),o.push(i)}if((i=this._findPattern(On,i.end,!0,!1))===null)return null;o.push(i);for(var f=0;f<4;f++){if(!(i=this._decodeCode(i.end,10)))return null;o.push(i),n.push(i.code)}return i}}])}(qe);function Ca(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var En=function(t){function r(e){var n;return U()(this,r),n=Ca(this,r,[R()({normalizeBarSpaceWidth:!1},e)]),A()(n,"barSpaceRatio",[1,1]),A()(n,"SINGLE_CODE_ERROR",.78),A()(n,"AVG_CODE_ERROR",.38),A()(n,"START_PATTERN",[1,1,1,1]),A()(n,"STOP_PATTERN",[1,1,3]),A()(n,"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),A()(n,"MAX_CORRECTION_FACTOR",5),A()(n,"FORMAT","i2of5"),e.normalizeBarSpaceWidth&&(n.SINGLE_CODE_ERROR=.38,n.AVG_CODE_ERROR=.09),n.config=e,we()(n,n)}return Me()(r,t),L()(r,[{key:"_matchPattern",value:function(e,n){if(this.config.normalizeBarSpaceWidth){for(var o=[0,0],i=[0,0],u=[0,0],f=this.MAX_CORRECTION_FACTOR,h=1/f,d=0;d<e.length;d++)o[d%2]+=e[d],i[d%2]+=n[d];u[0]=i[0]/o[0],u[1]=i[1]/o[1],u[0]=Math.max(Math.min(u[0],f),h),u[1]=Math.max(Math.min(u[1],f),h),this.barSpaceRatio=u;for(var g=0;g<e.length;g++)e[g]*=this.barSpaceRatio[g%2]}return(y=r,_="_matchPattern",O=this,C=3,w=vt()(oe()(1&C?y.prototype:y),_,O),2&C&&typeof w=="function"?function(S){return w.apply(O,S)}:w)([e,n]);var y,_,O,C,w}},{key:"_findPattern",value:function(e,n){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0&&arguments[3],u=new Array(e.length).fill(0),f=0,h={error:Number.MAX_VALUE,start:0,end:0},d=this.AVG_CODE_ERROR;o=o||!1,i=i||!1,n||(n=this._nextSet(this._row));for(var g=n;g<this._row.length;g++)if(this._row[g]^(o?1:0))u[f]++;else{if(f===u.length-1){var y=u.reduce(function(C,w){return C+w},0),_=this._matchPattern(u,e);if(_<d)return h.error=_,h.start=g-y,h.end=g,h;if(!i)return null;for(var O=0;O<u.length-2;O++)u[O]=u[O+2];u[u.length-2]=0,u[u.length-1]=0,f--}else f++;u[f]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var e=0,n=this._nextSet(this._row),o=null,i=1;!o;){if(!(o=this._findPattern(this.START_PATTERN,n,!1,!0)))return null;if(i=Math.floor((o.end-o.start)/4),(e=o.start-10*i)>=0&&this._matchRange(e,o.start,0))return o;n=o.end,o=null}return null}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start)/2;return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"_findEnd",value:function(){this._row.reverse();var e=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),e===null)return null;var n=e.start;return e.start=this._row.length-e.end,e.end=this._row.length-n,e!==null?this._verifyTrailingWhitespace(e):null}},{key:"_decodePair",value:function(e){for(var n=[],o=0;o<e.length;o++){var i=this._decodeCode(e[o]);if(!i)return null;n.push(i)}return n}},{key:"_decodeCode",value:function(e){for(var n=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},i=0;i<this.CODE_PATTERN.length;i++){var u=this._matchPattern(e,this.CODE_PATTERN[i]);u<o.error&&(o.code=i,o.error=u)}return o.error<n?o:null}},{key:"_decodePayload",value:function(e,n,o){for(var i=0,u=e.length,f=[[0,0,0,0,0],[0,0,0,0,0]],h=null;i<u;){for(var d=0;d<5;d++)f[0][d]=e[i]*this.barSpaceRatio[0],f[1][d]=e[i+1]*this.barSpaceRatio[1],i+=2;if(!(h=this._decodePair(f)))return null;for(var g=0;g<h.length;g++)n.push(h[g].code+""),o.push(h[g])}return h}},{key:"_verifyCounterLength",value:function(e){return e.length%10==0}},{key:"decode",value:function(e,n){var o=new Array,i=new Array,u=this._findStart();if(!u)return null;i.push(u);var f=this._findEnd();if(!f)return null;var h=this._fillCounters(u.end,f.start,!1);return this._verifyCounterLength(h)&&this._decodePayload(h,o,i)?o.length%2!=0||o.length<6?null:(i.push(f),{code:o.join(""),start:u.start,end:f.end,startInfo:u,decodedCodes:i,format:this.FORMAT}):null}}])}(Ue);function it(t,r){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(h,d){if(h){if(typeof h=="string")return kn(h,d);var g={}.toString.call(h).slice(8,-1);return g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set"?Array.from(h):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?kn(h,d):void 0}}(t))||r&&t&&typeof t.length=="number"){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var h=e.next();return u=h.done,h},e:function(h){f=!0,i=h},f:function(){try{u||e.return==null||e.return()}finally{if(f)throw i}}}}function kn(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function Ea(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var jn=[2,2.5,3],Tn=function(t){function r(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return U()(this,r),e=Ea(this,r,[n]),A()(e,"FORMAT","pharmacode"),A()(e,"SINGLE_CODE_ERROR",.7),A()(e,"AVG_CODE_ERROR",.48),e}return Me()(r,t),L()(r,[{key:"_findStart",value:function(){for(var e=0;e<this._row.length;){var n=this._nextSet(this._row,e);if(n>=this._row.length)return null;for(var o=n;o<this._row.length&&this._row[o];)o++;var i=o-n;if(i<5)e=o+1;else{var u=n-Math.max(2*i,20);if(u<0)e=o+1;else if(this._matchRange(u,n,0)){var f=Math.max(10*i,50),h=this._nextSet(this._row,o);if(h>=this._row.length)e=o+1;else{if(!(h-o>f))return{start:n,end:o};e=o+1}}else e=o+1}}return null}},{key:"_smoothBarWidths",value:function(e){if(e.length<=2)return e;for(var n=e.slice(),o=1;o<n.length-1;o++){var i=n[o-1],u=n[o],f=[i,u,n[o+1]].sort(function(d,g){return d-g})[1],h=Math.abs(u-f);h>0&&h<=3&&(n[o]=f)}return n}},{key:"_extractBarsAndSpaces",value:function(e){for(var n=[],o=[],i=e,u=0,f=!1;i<this._row.length&&this._row[i];)u++,i++;if(u===0)return null;for(n.push(u),u=0;i<this._row.length&&!this._row[i];)u++,i++;if(u===0||i>=this._row.length)return null;o.push(u);for(var h=6*(n[0]<o[0]?n[0]:.8*o[0]),d=2.5*o[0];i<this._row.length&&n.length<16;){for(u=0;i<this._row.length&&this._row[i];)u++,i++;if(u===0)break;n.push(u),u=0;for(var g=i;i<this._row.length&&!this._row[i];)u++,i++;if(u===0)break;if(u>=h){f=!0,i=g;break}if(n.length>=2&&u>=d){f=!0,i=g;break}if(i>=this._row.length){f=!0,i=g;break}o.push(u),o.length>=2&&(d=2*(o.reduce(function(y,_){return y+_},0)/o.length))}return f?n.length<2||n.length>16||o.length!==n.length-1?null:this._validateSpaces(o)&&this._validateBarSizeCount(n)?{bars:this._smoothBarWidths(n),spaces:o,end:i}:null:null}},{key:"_validateBarSizeCount",value:function(e){if(e.length===0)return!1;var n,o=[],i=it(e);try{for(i.s();!(n=i.n()).done;){var u,f=n.value,h=!1,d=it(o);try{for(d.s();!(u=d.n()).done;){var g=u.value,y=g.reduce(function(_,O){return _+O},0)/g.length;if(Math.abs(f-y)<=.35*y){g.push(f),h=!0;break}}}catch(_){d.e(_)}finally{d.f()}h||o.push([f])}}catch(_){i.e(_)}finally{i.f()}return!(o.length>2)}},{key:"_validateSpaces",value:function(e){if(e.length===0)return!0;var n=e.reduce(function(i,u){return i+u},0)/e.length;if(n===0)return!1;var o=e.reduce(function(i,u){return i+Math.pow(u-n,2)},0)/e.length;return Math.sqrt(o)/n<=.35}},{key:"_validateBarRatios",value:function(e,n){var o=e.reduce(function(ue,Oe){return ue+Oe},0)/e.length,i=e.reduce(function(ue,Oe){return ue+Math.abs(Oe-o)},0)/e.length;if((o===0?0:i/o)<=.1){var u=n.length>0?n.reduce(function(ue,Oe){return ue+Oe},0)/n.length:0;return u>0&&u/o<.7?{narrowWidth:o/2.5,wideRatio:2.5}:{narrowWidth:o,wideRatio:2}}var f=Array.from(new Set(e.slice().sort(function(ue,Oe){return ue-Oe})));if(f.length<2)return{narrowWidth:e.reduce(function(ue,Oe){return ue+Oe},0)/e.length,wideRatio:2};for(var h=[],d=0;d<f.length-1;d++){var g,y=(f[d]+f[d+1])/2,_=[],O=[],C=it(e);try{for(C.s();!(g=C.n()).done;){var w=g.value;w<y?_.push(w):O.push(w)}}catch(ue){C.e(ue)}finally{C.f()}if(_.length!==0&&O.length!==0){for(var S=_.reduce(function(ue,Oe){return ue+Oe},0)/_.length,k=O.reduce(function(ue,Oe){return ue+Oe},0)/O.length,T=k/S,B=jn[0],z=Math.abs(T-B),Q=0,ne=jn;Q<ne.length;Q++){var ee=ne[Q],ae=Math.abs(T-ee);ae<z&&(z=ae,B=ee)}h.push({threshold:y,narrowBars:_,wideBars:O,avgN:S,avgW:k,ratio:T,ratioDiff:z,matchedRatio:B})}}h.sort(function(ue,Oe){return ue.ratioDiff-Oe.ratioDiff});for(var Ce=0,ke=h;Ce<ke.length;Ce++){var ge=ke[Ce],ft=.05*ge.matchedRatio;if(!(Math.abs(ge.ratio-ge.matchedRatio)>ft)){var Be,$e=.15*ge.avgN,He=.15*ge.avgW,Fe=!0,le=it(ge.narrowBars);try{for(le.s();!(Be=le.n()).done;){var je=Be.value;if(Math.abs(je-ge.avgN)>$e){Fe=!1;break}}}catch(ue){le.e(ue)}finally{le.f()}if(Fe){var dt,Xe=it(ge.wideBars);try{for(Xe.s();!(dt=Xe.n()).done;){var Ie=dt.value;if(Math.abs(Ie-ge.avgW)>He){Fe=!1;break}}}catch(ue){Xe.e(ue)}finally{Xe.f()}if(Fe)return{narrowWidth:ge.avgN,wideRatio:ge.matchedRatio}}}}return null}},{key:"_validatePeriodicity",value:function(e,n){if(e.length>0){var o=e.reduce(function(g,y){return g+y},0)/e.length,i=e.reduce(function(g,y){return g+Math.pow(y-o,2)},0)/e.length,u=Math.sqrt(i);if((o!==0?u/o:0)>.65)return!1}if(n.length>0){var f=n.reduce(function(g,y){return g+y},0)/n.length,h=n.reduce(function(g,y){return g+Math.pow(y-f,2)},0)/n.length,d=Math.sqrt(h);if((f!==0?d/f:0)>.55)return!1}return!0}},{key:"_validateQuietZones",value:function(e,n,o){var i=1*n;if(e.start>=2&&e.start<i)return!1;var u=this._row.length-o;return u<6||!(u<i)}},{key:"_decodeBars",value:function(e,n){for(var o=1.6*(n??Math.min.apply(Math,pt()(e))),i=0,u=e.slice().reverse(),f=0;f<u.length;f++)i+=u[f]>o?Math.pow(2,f+1):Math.pow(2,f);for(var h="",d=u.length-1;d>=0;d--)h+=u[d]>o?"W":"N";return{value:i,pattern:h}}},{key:"_verifyTrailingWhitespace",value:function(e,n){var o=Math.min(e+2*n,this._row.length);return this._matchRange(e,o,0)}},{key:"_validatePatternConsistency",value:function(e,n){for(var o=e.start,i=0,u=0,f=0,h=[-2,-1,1,2];f<h.length;f++){var d=o+h[f];if(!(d<0||d>=this._row.length)){u++;var g=this._extractBarsAndSpaces(d);if(g&&g.bars.length===n.length){for(var y=!0,_=0;_<n.length;_++)if(Math.abs(g.bars[_]-n[_])/Math.max(n[_],1)>.25){y=!1;break}y&&i++}}}return u>0&&i>=.5*u}},{key:"decode",value:function(e,n){var o=this._findStart();if(!o||o.start>.5*this._row.length)return null;var i=this._extractBarsAndSpaces(o.start);if(!i)return null;var u=i.bars,f=i.spaces,h=i.end;if(u.reduce(function(C,w){return C+w},0)+f.reduce(function(C,w){return C+w},0)<20||this._row.length-h<0||!this._validateSpaces(f)||!this._validatePeriodicity(u,f)||!this._validatePatternConsistency(o,u))return null;var d=this._validateBarRatios(u,f);if(!d||!this._validateQuietZones(o,d.narrowWidth,h))return null;var g=this._decodeBars(u,d.narrowWidth);if(!g)return null;var y=g.value;if(y<3||y>131070)return null;var _=u.reduce(function(C,w){return C+w},0)/u.length;this._verifyTrailingWhitespace(h,_);var O=u.map(function(C,w){return{code:C>1.6*Math.min.apply(Math,pt()(u))?1:0,start:0,end:0,error:0}});return{code:y.toString(),start:o.start,end:h,startInfo:o,decodedCodes:O,pattern:g.pattern,format:this.FORMAT}}}])}(Ue);A()(Tn,"adjacentLineValidationMatches",1);var Lt=Tn;function Pn(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function ka(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}function Dn(t,r,e,n){var o=vt()(oe()(1&n?t.prototype:t),r,e);return 2&n&&typeof o=="function"?function(i){return o.apply(e,i)}:o}var In=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ka(this,r,[].concat(o)),A()(e,"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),A()(e,"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),A()(e,"FORMAT","upc_e"),e}return Me()(r,t),L()(r,[{key:"_decodePayload",value:function(e,n,o){for(var i=function(h){for(var d=1;d<arguments.length;d++){var g=arguments[d]!=null?arguments[d]:{};d%2?Pn(Object(g),!0).forEach(function(y){A()(h,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):Pn(Object(g)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(g,y))})}return h}({},e),u=0,f=0;f<6;f++){if(!(i=this._decodeCode(i.end)))return null;i.code>=10&&(i.code=i.code-10,u|=1<<5-f),n.push(i.code),o.push(i)}return this._determineParity(u,n)?i:null}},{key:"_determineParity",value:function(e,n){for(var o=0;o<this.CODE_FREQUENCY.length;o++)for(var i=0;i<this.CODE_FREQUENCY[o].length;i++)if(e===this.CODE_FREQUENCY[o][i])return n.unshift(o),n.push(i),!0;return!1}},{key:"_convertToUPCA",value:function(e){var n=[e[0]],o=e[e.length-2];return(n=o<=2?n.concat(e.slice(1,3)).concat([o,0,0,0,0]).concat(e.slice(3,6)):o===3?n.concat(e.slice(1,4)).concat([0,0,0,0,0]).concat(e.slice(4,6)):o===4?n.concat(e.slice(1,5)).concat([0,0,0,0,0,e[5]]):n.concat(e.slice(1,6)).concat([0,0,0,0,o])).push(e[e.length-1]),n}},{key:"_checksum",value:function(e){return Dn(r,"_checksum",this,3)([this._convertToUPCA(e)])}},{key:"_findEnd",value:function(e,n){return Dn(r,"_findEnd",this,3)([e,!0])}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start)/2;return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}}])}(qe);function ja(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var Ln=function(t){function r(){var e;U()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ja(this,r,[].concat(o)),A()(e,"FORMAT","upc_a"),e}return Me()(r,t),L()(r,[{key:"decode",value:function(e,n){var o=qe.prototype.decode.call(this);return o&&o.code&&o.code.length===13&&o.code.charAt(0)==="0"?(o.code=o.code.substring(1),o):null}}])}(qe),yt={},mt={UP:1,DOWN:-1};yt.getBarcodeLine=function(t,r,e){var n,o,i,u,f,h=0|r.x,d=0|r.y,g=0|e.x,y=0|e.y,_=Math.abs(y-d)>Math.abs(g-h),O=[],C=t.data,w=t.size.x,S=255,k=0;function T(ne,ee){f=C[ee*w+ne],S=f<S?f:S,k=f>k?f:k,O.push(f)}_&&(i=h,h=d,d=i,i=g,g=y,y=i),h>g&&(i=h,h=g,g=i,i=d,d=y,y=i);var B=g-h,z=Math.abs(y-d);n=B/2|0,o=d;var Q=d<y?1:-1;for(u=h;u<g;u++)_?T(o,u):T(u,o),(n-=z)<0&&(o+=Q,n+=B);return{line:O,min:S,max:k}},yt.toBinaryLine=function(t){var r,e,n,o,i,u,f=t.min,h=t.max,d=t.line,g=f+(h-f)/2,y=[],_=(h-f)/12,O=-_;for(n=d[0]>g?mt.UP:mt.DOWN,y.push({pos:0,val:d[0]}),i=0;i<d.length-2;i++)n!==(o=(r=d[i+1]-d[i])+(e=d[i+2]-d[i+1])<O&&d[i+1]<1.5*g?mt.DOWN:r+e>_&&d[i+1]>.5*g?mt.UP:n)&&(y.push({pos:i,val:d[i]}),n=o);for(y.push({pos:d.length,val:d[d.length-1]}),u=y[0].pos;u<y[1].pos;u++)d[u]=d[u]>g?0:1;for(i=1;i<y.length-1;i++)for(_=y[i+1].val>y[i].val?y[i].val+(y[i+1].val-y[i].val)/3*2|0:y[i+1].val+(y[i].val-y[i+1].val)/3|0,u=y[i].pos;u<y[i+1].pos;u++)d[u]=d[u]>_?0:1;return{line:d,threshold:_}},yt.debug={printFrequency:function(t,r){var e,n=r.getContext("2d");for(r.width=t.length,r.height=256,n.beginPath(),n.strokeStyle="blue",e=0;e<t.length;e++)n.moveTo(e,255),n.lineTo(e,255-t[e]);n.stroke(),n.closePath()},printPattern:function(t,r){var e,n=r.getContext("2d");for(r.width=t.length,n.fillColor="black",e=0;e<t.length;e++)t[e]===1&&n.fillRect(e,0,1,100)}};var bt=yt;function Ta(t,r){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(h,d){if(h){if(typeof h=="string")return Nn(h,d);var g={}.toString.call(h).slice(8,-1);return g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set"?Array.from(h):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Nn(h,d):void 0}}(t))||r&&t&&typeof t.length=="number"){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var h=e.next();return u=h.done,h},e:function(h){f=!0,i=h},f:function(){try{u||e.return==null||e.return()}finally{if(f)throw i}}}}function Nn(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}var ut={code_128_reader:gn,ean_reader:qe,ean_5_reader:An,ean_2_reader:Rn,ean_8_reader:Cn,code_39_reader:gt,code_39_vin_reader:bn,codabar_reader:pn,upc_reader:Ln,upc_e_reader:In,i2of5_reader:En,"2of5_reader":hn,code_93_reader:_n,code_32_reader:mn,pharmacode_reader:Lt},Nt={registerReader:function(t,r){ut[t]=r},create:function(t,r){var e=[];function n(){t.readers.forEach(function(h){var d,g={},y=[];x()(h)==="object"?(d=h.format,g=h.config):typeof h=="string"&&(d=h),g.supplements&&(y=g.supplements.map(function(O){return new ut[O]}));try{var _=new ut[d](g,y);e.push(_)}catch(O){throw console.error("* Error constructing reader ",d,O),O}})}function o(h){var d,g=null,y=bt.getBarcodeLine(r,h[0],h[1]);bt.toBinaryLine(y);var _=-1;for(d=0;d<e.length&&g===null;d++)typeof e[d].setImageWrapper=="function"&&e[d].setImageWrapper(r),(g=e[d].decodePattern(y.line))!==null&&(_=d);return g===null||_>=0&&e[_]instanceof Lt&&!function(O,C,w,S){var k=Math.round(O[1].y),T=C.start,B=w.constructor,z=B&&B.adjacentLineValidationMatches||0;if(z<=0)return!0;for(var Q=0,ne=!1,ee=0,ae=[1,2,3];ee<ae.length;ee++){var Ce=ae[ee];if(ne)break;for(var ke=0,ge=[-1,1];ke<ge.length;ke++){var ft=ge[ke];if(ne)break;var Be=k+Ce*ft;if(!(Be<0||Be>=S.size.y)){var $e={x:O[0].x,y:Be},He={x:O[1].x,y:Be};try{var Fe=bt.getBarcodeLine(S,$e,He);bt.toBinaryLine(Fe),w._row=Fe.line;var le=w._findStart();if(le!==null&&le.start===T&&++Q>=z){ne=!0;break}}catch{}}}}return Q>=z}(h,g,e[_],r)?null:{codeResult:g,barcodeLine:y}}function i(h){return u.apply(this,arguments)}function u(){return(u=ze()(xe.a.mark(function h(d){var g,y,_,O,C;return xe.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:g=null,y=Ta(e),w.prev=1,y.s();case 2:if((_=y.n()).done){w.next=5;break}if(!(O=_.value).decodeImage){w.next=4;break}return w.next=3,O.decodeImage(d);case 3:if(!(g=w.sent)){w.next=4;break}return w.abrupt("continue",5);case 4:w.next=2;break;case 5:w.next=7;break;case 6:w.prev=6,C=w.catch(1),y.e(C);case 7:return w.prev=7,y.f(),w.finish(7);case 8:return w.abrupt("return",g);case 9:case"end":return w.stop()}},h,null,[[1,6,7,8]])}))).apply(this,arguments)}function f(h){var d,g,y=function(O){return Math.sqrt(Math.pow(Math.abs(O[1].y-O[0].y),2)+Math.pow(Math.abs(O[1].x-O[0].x),2))}(d=function(O){return[{x:(O[1][0]-O[0][0])/2+O[0][0],y:(O[1][1]-O[0][1])/2+O[0][1]},{x:(O[3][0]-O[2][0])/2+O[2][0],y:(O[3][1]-O[2][1])/2+O[2][1]}]}(h)),_=Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x);return(d=function(O,C,w){function S(k){var T=k*Math.sin(C),B=k*Math.cos(C);O[0].y-=T,O[0].x-=B,O[1].y+=T,O[1].x+=B}for(S(w);w>1&&(!r.inImageWithBorder(O[0])||!r.inImageWithBorder(O[1]));)S(-(w-=Math.ceil(w/2)));return O}(d,_,Math.floor(.1*y)))===null?null:((g=o(d))===null&&(g=function(O,C,w){var S,k,T,B=Math.sqrt(Math.pow(O[1][0]-O[0][0],2)+Math.pow(O[1][1]-O[0][1],2)),z=null,Q=Math.sin(w),ne=Math.cos(w);for(S=1;S<16&&z===null;S++)T={y:(k=B/16*S*(S%2==0?-1:1))*Q,x:k*ne},C[0].y+=T.x,C[0].x-=T.y,C[1].y+=T.x,C[1].x-=T.y,z=o(C);return z}(h,d,_)),g===null?null:{codeResult:g.codeResult,line:d,angle:_,pattern:g.barcodeLine.line,threshold:g.barcodeLine.threshold})}return n(),{decodeFromBoundingBox:function(h){return f(h)},decodeFromBoundingBoxes:function(h){var d,g,y=[],_=t.multiple;for(d=0;d<h.length;d++){var O=h[d];if((g=f(O)||{}).box=O,_)y.push(g);else if(g.codeResult)return g}return{barcodes:y}},decodeFromImage:function(h){return ze()(xe.a.mark(function d(){var g;return xe.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=1,i(h);case 1:return g=y.sent,y.abrupt("return",g);case 2:case"end":return y.stop()}},d)}))()},registerReader:function(h,d){if(ut[h])throw new Error("cannot register existing reader",h);ut[h]=d},setReaders:function(h){t.readers=h,e.length=0,n()}}}},Ke=function(){var t={};function r(o){return t[o]||(t[o]={subscribers:[]}),t[o]}function e(o,i){o.async?setTimeout(function(){o.callback(i)},4):o.callback(i)}function n(o,i,u){var f;if(typeof i=="function")f={callback:i,async:u};else if(!(f=i).callback)throw new Error("Callback was not specified on options");r(o).subscribers.push(f)}return{subscribe:function(o,i,u){return n(o,i,u)},publish:function(o,i){var u=r(o),f=u.subscribers;f.filter(function(h){return!!h.once}).forEach(function(h){e(h,i)}),u.subscribers=f.filter(function(h){return!h.once}),u.subscribers.forEach(function(h){e(h,i)})},once:function(o,i){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];n(o,{callback:i,async:u,once:!0})},unsubscribe:function(o,i){if(o){var u=r(o);u.subscribers=u&&i?u.subscribers.filter(function(f){return f.callback!==i}):[]}else t={}}}}(),Pa=a(81),Da=a.n(Pa),Ia=a(82),La=a.n(Ia),Na=a(83);function za(t,r,e){return r=oe()(r),we()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],oe()(t).constructor):r.apply(t,e))}var zt=function(t){function r(e,n){var o;return U()(this,r),o=za(this,r,[e]),A()(o,"code",void 0),o.code=n,Object.setPrototypeOf(o,r.prototype),o}return Me()(r,t),L()(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,code:this.code}}}])}(a.n(Na)()(Error)),zn="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Ua(){try{return navigator.mediaDevices.enumerateDevices()}catch{var t=new zt("enumerateDevices is not defined. ".concat(zn),-1);return Promise.reject(t)}}function Un(t){try{return navigator.mediaDevices.getUserMedia(t)}catch{var r=new zt("getUserMedia is not defined. ".concat(zn),-1);return Promise.reject(r)}}var Je,Wa=["deviceId"];function Wn(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function Bn(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Wn(Object(e),!0).forEach(function(n){A()(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Wn(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function Ba(t,r){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(h,d){if(h){if(typeof h=="string")return Fn(h,d);var g={}.toString.call(h).slice(8,-1);return g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set"?Array.from(h):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Fn(h,d):void 0}}(t))||r&&t&&typeof t.length=="number"){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var h=e.next();return u=h.done,h},e:function(h){f=!0,i=h},f:function(){try{u||e.return==null||e.return()}finally{if(f)throw i}}}}function Fn(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function Fa(t){return new Promise(function(r,e){var n=10;(function o(){n>0?t.videoWidth>10&&t.videoHeight>10?r():window.setTimeout(o,500):e(new zt("Unable to play video stream. Is webcam working?",-1)),n--})()})}function qa(t,r){return qn.apply(this,arguments)}function qn(){return(qn=ze()(xe.a.mark(function t(r,e){var n;return xe.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=1,Un(e);case 1:if(n=o.sent,Je=n,!r){o.next=2;break}return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r.srcObject=n,r.addEventListener("loadedmetadata",function(){r.play().catch(function(i){console.warn("* Error while trying to play video stream:",i)})}),o.abrupt("return",Fa(r));case 2:return o.abrupt("return",Promise.resolve());case 3:case"end":return o.stop()}},t)}))).apply(this,arguments)}function Vn(t){var r=La()(t,["facing","minAspectRatio","maxAspectRatio"]);return t.minAspectRatio!==void 0&&t.minAspectRatio>0&&(r.aspectRatio=t.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),t.facing!==void 0&&(r.facingMode=t.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),r}function Va(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Vn(t);return r&&r.deviceId&&r.facingMode&&delete r.facingMode,Promise.resolve({audio:!1,video:r})}function Gn(){return(Gn=ze()(xe.a.mark(function t(r){var e,n,o,i,u,f,h,d,g,y;return xe.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=1,Ua();case 1:if(e=_.sent,n=e.filter(function(O){return O.kind==="videoinput"}),r){_.next=2;break}return _.abrupt("return",n);case 2:o=[],i=Vn(r),i.deviceId,u=Da()(i,Wa),f=Ba(n),_.prev=3,f.s();case 4:if((h=f.n()).done){_.next=9;break}return d=h.value,_.prev=5,g={audio:!1,video:Bn(Bn({},u),{},{deviceId:{exact:d.deviceId}})},_.next=6,Un(g);case 6:_.sent.getTracks().forEach(function(O){return O.stop()}),o.push(d),_.next=8;break;case 7:_.prev=7,_.catch(5);case 8:_.next=4;break;case 9:_.next=11;break;case 10:_.prev=10,y=_.catch(3),f.e(y);case 11:return _.prev=11,f.f(),_.finish(11);case 12:return _.abrupt("return",o);case 13:case"end":return _.stop()}},t,null,[[3,10,11,12],[5,7]])}))).apply(this,arguments)}function xt(){if(!Je)return null;var t=Je.getVideoTracks();return t&&t!=null&&t.length?t[0]:null}var ct={requestedVideoElement:null,request:function(t,r){return ze()(xe.a.mark(function e(){var n;return xe.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return ct.requestedVideoElement=t,o.next=1,Va(r);case 1:return n=o.sent,o.abrupt("return",qa(t,n));case 2:case"end":return o.stop()}},e)}))()},release:function(){var t=Je&&Je.getVideoTracks();return ct.requestedVideoElement!==null&&ct.requestedVideoElement.pause(),new Promise(function(r){setTimeout(function(){t&&t.length&&t.forEach(function(e){return e.stop()}),Je=null,ct.requestedVideoElement=null,r()},0)})},enumerateVideoDevices:function(t){return Gn.apply(this,arguments)},getActiveStream:function(){var t;return(t=Je)!==null&&t!==void 0?t:null},getActiveStreamLabel:function(){var t=xt();return t?t.label:""},getActiveTrack:xt,disableTorch:function(){return ze()(xe.a.mark(function t(){var r,e;return xe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=xt())){n.next=4;break}return n.prev=1,n.next=2,r.applyConstraints({advanced:[{torch:!1}]});case 2:n.next=4;break;case 3:throw n.prev=3,(e=n.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),e;case 4:case"end":return n.stop()}},t,null,[[1,3]])}))()},enableTorch:function(){return ze()(xe.a.mark(function t(){var r,e;return xe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=xt())){n.next=4;break}return n.prev=1,n.next=2,r.applyConstraints({advanced:[{torch:!0}]});case 2:n.next=4;break;case 3:throw n.prev=3,(e=n.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),e;case 4:case"end":return n.stop()}},t,null,[[1,3]])}))()}},_t=ct,$n={create:function(t){var r,e=document.createElement("canvas"),n=e.getContext("2d",{willReadFrequently:!!t.willReadFrequently}),o=[],i=(r=t.capacity)!==null&&r!==void 0?r:20,u=t.capture===!0;function f(h){return!!i&&h&&!function(d,g){return g&&g.some(function(y){return Object.keys(y).every(function(_){return y[_]===d[_]})})}(h,t.blacklist)&&function(d,g){return typeof g!="function"||g(d)}(h,t.filter)}return{addResult:function(h,d,g){var y={};f(g)&&(i--,y.codeResult=g,u&&(e.width=d.x,e.height=d.y,jt.drawImage(h,d,n),y.frame=e.toDataURL()),o.push(y))},getResults:function(){return o}}}},Ga={inputStream:{type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,canvas:{createOverlay:!0},decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Hn=Math.PI/180,Xn={};Xn.create=function(t,r){var e,n={},o=t.getConfig(),i=Et(t.getRealWidth(),t.getRealHeight()),u=t.getCanvasSize(),f=Et(t.getWidth(),t.getHeight()),h=t.getTopRight(),d=h.x,g=h.y,y=null,_=null,O=o.willReadFrequently;function C(w,S,k,T,B){var z=Math.floor(T),Q=Math.floor(B),ne=Math.min(z+1,S-1),ee=Math.min(Q+1,k-1),ae=T-z,Ce=B-Q;return(w[Q*S+z]*(1-ae)+w[Q*S+ne]*ae)*(1-Ce)+(w[ee*S+z]*(1-ae)+w[ee*S+ne]*ae)*Ce}return(e=r||document.createElement("canvas")).width=u.x,e.height=u.y,y=e.getContext("2d",{willReadFrequently:!!O}),_=new Uint8Array(f.x*f.y),n.attachData=function(w){_=w},n.getData=function(){return _},n.grab=function(){var w=o.halfSample,S=t.getFrame(),k=S,T=0;if(k){if(function(le,je,dt){le.width!==je.x&&(le.width=je.x),le.height!==je.y&&(le.height=je.y)}(e,u,o.debug),o.type==="ImageStream"&&(k=S.img,S.tags&&S.tags.orientation))switch(S.tags.orientation){case 6:T=90*Hn;break;case 8:T=-90*Hn}if(T!==0?(y.translate(u.x/2,u.y/2),y.rotate(T),y.drawImage(k,-u.y/2,-u.x/2,u.y,u.x),y.rotate(-T),y.translate(-u.x/2,-u.y/2)):y.drawImage(k,0,0,u.x,u.y),w)(function(le,je,dt){for(var Xe,Ie=0,ue=je.x,Oe=Math.floor(le.length/4),mi=je.x/2,ur=0,cr=je.x;ue<Oe;){for(Xe=0;Xe<mi;Xe++)dt[ur]=(.299*le[4*Ie+0]+.587*le[4*Ie+1]+.114*le[4*Ie+2]+(.299*le[4*(Ie+1)+0]+.587*le[4*(Ie+1)+1]+.114*le[4*(Ie+1)+2])+(.299*le[4*ue+0]+.587*le[4*ue+1]+.114*le[4*ue+2])+(.299*le[4*(ue+1)+0]+.587*le[4*(ue+1)+1]+.114*le[4*(ue+1)+2]))/4,ur++,Ie+=2,ue+=2;Ie+=cr,ue+=cr}})(y.getImageData(d,g,f.x,f.y).data,f,_);else{var B=document.createElement("canvas");B.width=i.x,B.height=i.y;var z=B.getContext("2d");T!==0?(z.translate(i.x/2,i.y/2),z.rotate(T),z.drawImage(k,-i.y/2,-i.x/2,i.y,i.x)):z.drawImage(k,0,0,i.x,i.y);var Q=z.getImageData(0,0,i.x,i.y).data,ne=new Uint8Array(i.x*i.y);Jo(Q,ne,o);for(var ee=new Uint8Array(u.x*u.y),ae=i.x/u.x,Ce=i.y/u.y,ke=0;ke<u.y;ke++)for(var ge=0;ge<u.x;ge++){var ft=ge*ae,Be=ke*Ce;ee[ke*u.x+ge]=0|C(ne,i.x,i.y,ft,Be)}for(var $e=0;$e<f.y;$e++)for(var He=0;He<f.x;He++){var Fe=($e+g)*u.x+(He+d);_[$e*f.x+He]=ee[Fe]}}return!0}return!1},n.getSize=function(){return f},n};var $a=Xn,wt={274:"orientation"},Yn=Object.keys(wt).map(function(t){return wt[t]});function Ha(t){return new Promise(function(r){var e=new FileReader;e.onload=function(n){return r(n.target.result)},e.readAsArrayBuffer(t)})}function Xa(t){return new Promise(function(r,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onreadystatechange=function(){n.readyState!==XMLHttpRequest.DONE||n.status!==200&&n.status!==0||r(this.response)},n.onerror=e,n.send()})}function Ya(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn,e=new DataView(t),n=t.byteLength,o=r.reduce(function(u,f){var h=Object.keys(wt).filter(function(d){return wt[d]===f})[0];return h&&(u[h]=f),u},{}),i=2;if(e.getUint8(0)!==255||e.getUint8(1)!==216)return!1;for(;i<n;){if(e.getUint8(i)!==255)return!1;if(e.getUint8(i+1)===225)return Qa(e,i+4,o);i+=2+e.getUint16(i+2)}return!1}function Qa(t,r,e){if(function(u,f,h){for(var d="",g=f;g<f+h;g++)d+=String.fromCharCode(u.getUint8(g));return d}(t,r,4)!=="Exif")return!1;var n,o=r+6;if(t.getUint16(o)===18761)n=!1;else{if(t.getUint16(o)!==19789)return!1;n=!0}if(t.getUint16(o+2,!n)!==42)return!1;var i=t.getUint32(o+4,!n);return!(i<8)&&function(u,f,h,d,g){for(var y=u.getUint16(h,!g),_={},O=0;O<y;O++){var C=h+12*O+2,w=d[u.getUint16(C,!g)];w&&(_[w]=Ka(u,C,f,h,g))}return _}(t,o,o+i,e,n)}function Ka(t,r,e,n,o){var i=t.getUint16(r+2,!o),u=t.getUint32(r+4,!o);switch(i){case 3:if(u===1)return t.getUint16(r+8,!o)}return null}function Ja(t,r){return"".concat(t,"image-").concat(r.toString().padStart(3,"0"),".jpg")}var Qn={};function Za(t,r){t.onload=function(){r.loaded(this)},t.onerror=function(){r.loaded(this)}}Qn.load=function(t,r,e,n,o,i){var u,f,h,d=new Array(n),g=new Array(d.length);if(o===!1)d[0]=t;else for(u=0;u<d.length;u++)h=e+u,d[u]=Ja(t,h);for(g.notLoaded=[],g.addImage=function(y){g.notLoaded.push(y)},g.loaded=function(y){for(var _=g.notLoaded,O=0;O<_.length;O++)if(_[O]===y){_.splice(O,1);for(var C=0;C<d.length;C++){var w=encodeURI(d[C].substr(d[C].lastIndexOf("/")));if(y.src.lastIndexOf(w)!==-1){g[C]={img:y};break}}break}_.length===0&&(o===!1?function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn;return/^blob:/i.test(S)?Xa(S).then(Ha).then(function(T){return Ya(T,k)}):Promise.resolve(null)}(t,["orientation"]).then(function(S){g[0].tags=S,r(g)}).catch(function(S){console.log(S),r(g)}):r(g))},u=0;u<d.length;u++)f=new Image,g.addImage(f),Za(f,g),f.src=d[u]};var ei=Qn,Kn={createVideoStream:function(t){console.warn("**** InputStreamBrowser createVideoStream");var r,e,n=null,o=["canrecord","ended"],i={},u={x:0,y:0,type:"Point"},f={x:0,y:0,type:"XYSize"},h={getRealWidth:function(){return t.videoWidth},getRealHeight:function(){return t.videoHeight},getWidth:function(){return r},getHeight:function(){return e},setWidth:function(d){r=d},setHeight:function(d){e=d},setInputStream:function(d){n=d,this.setAttribute("src",d.src!==void 0?d.src:"")},ended:function(){return t.ended},getConfig:function(){return n},setAttribute:function(d,g){t&&t.setAttribute(d,g)},pause:function(){t.pause()},play:function(){t.play()},setCurrentTime:function(d){var g;((g=n)===null||g===void 0?void 0:g.type)!=="LiveStream"&&this.setAttribute("currentTime",d.toString())},addEventListener:function(d,g,y){o.indexOf(d)!==-1?(i[d]||(i[d]=[]),i[d].push(g)):t.addEventListener(d,g,y)},clearEventHandlers:function(){o.forEach(function(d){var g=i[d];g&&g.length>0&&g.forEach(function(y){t.removeEventListener(d,y)})})},trigger:function(d,g){var y,_,O,C,w,S=i[d];if(d==="canrecord"&&(C=t.videoWidth,w=t.videoHeight,r=(_=n)!==null&&_!==void 0&&_.size?C/w>1?n.size:Math.floor(C/w*n.size):C,e=(O=n)!==null&&O!==void 0&&O.size?C/w>1?Math.floor(w/C*n.size):n.size:w,f.x=r,f.y=e),S&&S.length>0)for(y=0;y<S.length;y++)S[y].apply(h,g)},setTopRight:function(d){u.x=d.x,u.y=d.y},getTopRight:function(){return u},setCanvasSize:function(d){f.x=d.x,f.y=d.y},getCanvasSize:function(){return f},getFrame:function(){return t}};return h},createLiveStream:function(t){console.warn("**** InputStreamBrowser createLiveStream"),t&&t.setAttribute("autoplay","true");var r=Kn.createVideoStream(t);return r.ended=function(){return!1},r},createImageStream:function(){var t,r,e=null,n=0,o=0,i=0,u=!0,f=!1,h=null,d=0,g=null,y=!1,_=["canrecord","ended"],O={},C={x:0,y:0,type:"Point"},w={x:0,y:0,type:"XYSize"};function S(T,B){var z,Q=O[T];if(Q&&Q.length>0)for(z=0;z<Q.length;z++)Q[z].apply(k,B)}var k={trigger:S,getWidth:function(){return t},getHeight:function(){return r},setWidth:function(T){t=T},setHeight:function(T){r=T},getRealWidth:function(){return n},getRealHeight:function(){return o},setInputStream:function(T){var B;e=T,T.sequence===!1?(g=T.src,d=1):(g=T.src,d=T.length),f=!1,ei.load(g,function(z){var Q,ne;if(h=z,z[0].tags&&z[0].tags.orientation)switch(z[0].tags.orientation){case 6:case 8:n=z[0].img.height,o=z[0].img.width;break;default:n=z[0].img.width,o=z[0].img.height}else n=z[0].img.width,o=z[0].img.height;t=(Q=e)!==null&&Q!==void 0&&Q.size?n/o>1?e.size:Math.floor(n/o*e.size):n,r=(ne=e)!==null&&ne!==void 0&&ne.size?n/o>1?Math.floor(o/n*e.size):e.size:o,w.x=t,w.y=r,f=!0,i=0,setTimeout(function(){S("canrecord",[])},0)},1,d,(B=e)===null||B===void 0?void 0:B.sequence,e)},ended:function(){return y},setAttribute:function(){},getConfig:function(){return e},pause:function(){u=!0},play:function(){u=!1},setCurrentTime:function(T){i=T},addEventListener:function(T,B){_.indexOf(T)!==-1&&(O[T]||(O[T]=[]),O[T].push(B))},clearEventHandlers:function(){Object.keys(O).forEach(function(T){return delete O[T]})},setTopRight:function(T){C.x=T.x,C.y=T.y},getTopRight:function(){return C},setCanvasSize:function(T){w.x=T.x,w.y=T.y},getCanvasSize:function(){return w},getFrame:function(){var T,B;return f?(u||(T=(B=h)===null||B===void 0?void 0:B[i],i<d-1?i++:setTimeout(function(){y=!0,S("ended",[])},0)),T):null}};return k}},ti=Kn,Ot={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(t,r){var e,n=t.data,o=r.data,i=this.searchDirections,u=t.size.x;function f(d,g,y,_){var O,C,w;for(O=0;O<i.length;O++){if(C=d.cy+i[d.dir][0],w=d.cx+i[d.dir][1],n[e=C*u+w]===g&&(o[e]===0||o[e]===y))return o[e]=y,d.cy=C,d.cx=w,!0;o[e]===0&&(o[e]=_),d.dir=(d.dir+1)%8}return!1}function h(d,g,y){return{dir:y,x:d,y:g,next:null,prev:null}}return{trace:function(d,g,y,_){return f(d,g,y,_)},contourTracing:function(d,g,y,_,O){return function(C,w,S,k,T){var B,z,Q,ne=null,ee={cx:w,cy:C,dir:0};if(f(ee,k,S,T)){B=ne=h(w,C,ee.dir),Q=ee.dir,(z=h(ee.cx,ee.cy,0)).prev=B,B.next=z,z.next=null,B=z;var ae=t.size.x*t.size.y,Ce=0;do ee.dir=(ee.dir+6)%8,f(ee,k,S,T),Q!==ee.dir?(B.dir=ee.dir,(z=h(ee.cx,ee.cy,0)).prev=B,B.next=z,z.next=null,B=z):(B.dir=Q,B.x=ee.cx,B.y=ee.cy),Q=ee.dir;while((ee.cx!==w||ee.cy!==C)&&++Ce<ae);ne.prev=B.prev,B.prev.next=ne}return ne}(d,g,y,_,O)}}}},Re={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(t,r){var e=t.data,n=r.data,o=t.size.x,i=t.size.y,u=Ot.create(t,r);return{rasterize:function(f){var h,d,g,y,_,O,C,w,S,k,T,B,z=[],Q=0;for(B=0;B<400;B++)z[B]=0;for(z[0]=e[0],S=null,O=1;O<i-1;O++)for(y=0,d=z[0],_=1;_<o-1;_++)if(n[T=O*o+_]===0)if((h=e[T])!==d){if(y===0)z[g=Q+1]=h,d=h,(C=u.contourTracing(O,_,g,h,Re.DIR.OUTSIDE_EDGE))!==null&&(Q++,y=g,(w=Re.createContour2D()).dir=Re.CONTOUR_DIR.CW_DIR,w.index=y,w.firstVertex=C,w.nextpeer=S,w.insideContours=null,S!==null&&(S.prevpeer=w),S=w);else if((C=u.contourTracing(O,_,Re.DIR.INSIDE_EDGE,h,y))!==null){for((w=Re.createContour2D()).firstVertex=C,w.insideContours=null,w.dir=f===0?Re.CONTOUR_DIR.CCW_DIR:Re.CONTOUR_DIR.CW_DIR,w.index=f,k=S;k!==null&&k.index!==y;)k=k.nextpeer;k!==null&&(w.nextpeer=k.insideContours,k.insideContours!==null&&(k.insideContours.prevpeer=w),k.insideContours=w)}}else n[T]=y;else n[T]===Re.DIR.OUTSIDE_EDGE||n[T]===Re.DIR.INSIDE_EDGE?(y=0,d=n[T]===Re.DIR.INSIDE_EDGE?e[T]:z[0]):d=z[y=n[T]];for(k=S;k!==null;)k.index=f,k=k.nextpeer;return{cc:S,count:Q}},debug:{drawContour:function(f,h){var d,g,y,_=f.getContext("2d"),O=h;for(_.strokeStyle="red",_.fillStyle="red",_.lineWidth=1,d=O!==null?O.insideContours:null;O!==null;){switch(d!==null?(g=d,d=d.nextpeer):(g=O,d=(O=O.nextpeer)!==null?O.insideContours:null),g.dir){case Re.CONTOUR_DIR.CW_DIR:_.strokeStyle="red";break;case Re.CONTOUR_DIR.CCW_DIR:_.strokeStyle="blue";break;case Re.CONTOUR_DIR.UNKNOWN_DIR:_.strokeStyle="green"}y=g.firstVertex,_.beginPath(),_.moveTo(y.x,y.y);do y=y.next,_.lineTo(y.x,y.y);while(y!==g.firstVertex);_.stroke()}}}}}},ni=Re;/* @preserve ASM END */var Ze,We,Ut,Te,Mt,rt,_e,Ve,Pe,Se,st,Jn,ri=function(t,r,e){var n=new t.Uint8Array(e),o=r.size|0,i=t.Math.imul;function u(w,S){w=w|0,S=S|0;var k=0,T=0,B=0,z=0,Q=0,ne=0,ee=0,ae=0;for(k=1;(k|0)<(o-1|0);k=k+1|0)for(ae=ae+o|0,T=1;(T|0)<(o-1|0);T=T+1|0)z=ae-o|0,Q=ae+o|0,ne=T-1|0,ee=T+1|0,B=(n[w+z+ne|0]|0)+(n[w+z+ee|0]|0)+(n[w+ae+T|0]|0)+(n[w+Q+ne|0]|0)+(n[w+Q+ee|0]|0)|0,(B|0)==5?n[S+ae+T|0]=1:n[S+ae+T|0]=0}function f(w,S,k){w=w|0,S=S|0,k=k|0;var T=0;for(T=i(o,o)|0;(T|0)>0;)T=T-1|0,n[k+T|0]=(n[w+T|0]|0)-(n[S+T|0]|0)|0}function h(w,S,k){w=w|0,S=S|0,k=k|0;var T=0;for(T=i(o,o)|0;(T|0)>0;)T=T-1|0,n[k+T|0]=n[w+T|0]|0|(n[S+T|0]|0)|0}function d(w){w=w|0;var S=0,k=0;for(k=i(o,o)|0;(k|0)>0;)k=k-1|0,S=(S|0)+(n[w+k|0]|0)|0;return S|0}function g(w,S){w=w|0,S=S|0;var k=0;for(k=i(o,o)|0;(k|0)>0;)k=k-1|0,n[w+k|0]=S}function y(w,S){w=w|0,S=S|0;var k=0,T=0,B=0,z=0,Q=0,ne=0,ee=0,ae=0;for(k=1;(k|0)<(o-1|0);k=k+1|0)for(ae=ae+o|0,T=1;(T|0)<(o-1|0);T=T+1|0)z=ae-o|0,Q=ae+o|0,ne=T-1|0,ee=T+1|0,B=(n[w+z+ne|0]|0)+(n[w+z+ee|0]|0)+(n[w+ae+T|0]|0)+(n[w+Q+ne|0]|0)+(n[w+Q+ee|0]|0)|0,(B|0)>0?n[S+ae+T|0]=1:n[S+ae+T|0]=0}function _(w,S){w=w|0,S=S|0;var k=0;for(k=i(o,o)|0;(k|0)>0;)k=k-1|0,n[S+k|0]=n[w+k|0]|0}function O(w){w=w|0;var S=0,k=0;for(S=0;(S|0)<(o-1|0);S=S+1|0)n[w+S|0]=0,n[w+k|0]=0,k=k+o-1|0,n[w+k|0]=0,k=k+1|0;for(S=0;(S|0)<(o|0);S=S+1|0)n[w+k|0]=0,k=k+1|0}function C(){var w=0,S=0,k=0,T=0,B=0,z=0;S=i(o,o)|0,k=S+S|0,T=k+S|0,g(T,0),O(w);do u(w,S),y(S,k),f(w,k,k),h(T,k,T),_(S,w),B=d(w)|0,z=(B|0)==0|0;while(!z)}return{skeletonize:C}},ot={ctx:{binary:null},dom:{binary:null}},et={x:0,y:0};function oi(t){var r,e,n,o,i,u,f,h=Pe.size.x,d=Pe.size.y,g=-Pe.size.x,y=-Pe.size.y;for(r=0,e=0;e<t.length;e++)r+=(o=t[e]).rad;for((r=(180*(r/=t.length)/Math.PI+90)%180-90)<0&&(r+=180),r=(180-r)*Math.PI/180,i=l.copy(l.create(),[Math.cos(r),Math.sin(r),-Math.sin(r),Math.cos(r)]),e=0;e<t.length;e++)for(o=t[e],n=0;n<4;n++)s.transformMat2(o.box[n],o.box[n],i);for(e=0;e<t.length;e++)for(o=t[e],n=0;n<4;n++)o.box[n][0]<h&&(h=o.box[n][0]),o.box[n][0]>g&&(g=o.box[n][0]),o.box[n][1]<d&&(d=o.box[n][1]),o.box[n][1]>y&&(y=o.box[n][1]);for(u=[[h,d],[g,d],[g,y],[h,y]],f=Ze.halfSample?2:1,i=l.invert(i,i),n=0;n<4;n++)s.transformMat2(u[n],u[n],i);for(n=0;n<4;n++)s.scale(u[n],u[n],f);return u}function ai(t){var r=function(i,u,f){var h,d,g,y,_=0,O=0,C=[];for(h=0;h<u;h++)C[h]={score:0,item:null};for(h=0;h<i.length;h++)if((d=f.apply(this,[i[h]]))>O)for((g=C[_]).score=d,g.item=i[h],O=Number.MAX_VALUE,y=0;y<u;y++)C[y].score<O&&(O=C[y].score,_=y);return C}(function(i,u,f){var h,d,g,y,_=[];function O(C){var w=!1;for(d=0;d<_.length;d++)(g=_[d]).fits(C)&&(g.add(C),w=!0);return w}for(f||(f="rad"),h=0;h<i.length;h++)O(y=Yo(i[h],h,f))||_.push(Xo(y,u));return _}(t,.9),1,function(i){return i.getPoints().length}),e=[],n=[];if(r.length===1){e=r[0].item.getPoints();for(var o=0;o<e.length;o++)n.push(e[o].point)}return n}function ii(t,r){Pe.subImageAsCopy(Te,Et(t,r)),Jn.skeletonize()}function ui(t,r,e,n){var o,i,u,f,h=[],d=[],g=Math.ceil(Se.x/3);if(t.length>=2){for(o=0;o<t.length;o++)t[o].m00>g&&h.push(t[o]);if(h.length>=2){for(u=ai(h),i=0,o=0;o<u.length;o++){var y,_;i+=(y=(_=u[o])===null||_===void 0?void 0:_.rad)!==null&&y!==void 0?y:0}u.length>1&&u.length>=h.length/4*3&&u.length>t.length/4&&(i/=u.length,f={index:r[1]*et.x+r[0],pos:{x:e,y:n},box:[s.clone([e,n]),s.clone([e+Te.size.x,n]),s.clone([e+Te.size.x,n+Te.size.y]),s.clone([e,n+Te.size.y])],moments:u,rad:i,vec:s.clone([Math.cos(i),Math.sin(i)])},d.push(f))}}return d}var ci=function(t,r){Ze=r,st=t,function(){We=Ze.halfSample?new Ee({x:st.size.x/2|0,y:st.size.y/2|0}):st,Se=un(Ze.patchSize,We.size),et.x=We.size.x/Se.x|0,et.y=We.size.y/Se.y|0,Pe=new Ee(We.size,void 0,Uint8Array,!1),Mt=new Ee(Se,void 0,Array,!0);var e=Se.x*Se.y*4,n=Math.max(65536,Math.pow(2,Math.ceil(Math.log2(e)))),o=new ArrayBuffer(n);Te=new Ee(Se,new Uint8Array(o,0,Se.x*Se.y)),Ut=new Ee(Se,new Uint8Array(o,Se.x*Se.y*3,Se.x*Se.y),void 0,!0),Jn=ri({Math,Uint8Array},{size:Se.x},o),Ve=new Ee({x:We.size.x/Te.size.x|0,y:We.size.y/Te.size.y|0},void 0,Array,!0),rt=new Ee(Ve.size,void 0,void 0,!0),_e=new Ee(Ve.size,void 0,Int32Array,!0)}(),function(){if(!Ze.useWorker&&typeof document<"u"){ot.dom.binary=document.createElement("canvas"),ot.dom.binary.className="binaryBuffer";var e=!!Ze.willReadFrequently;ot.ctx.binary=ot.dom.binary.getContext("2d",{willReadFrequently:e}),ot.dom.binary.width=Pe.size.x,ot.dom.binary.height=Pe.size.y}}()},si=function(){Ze.halfSample&&function(n,o){for(var i=n.data,u=n.size.x,f=o.data,h=0,d=u,g=i.length,y=u/2,_=0;d<g;){for(var O=0;O<y;O++)f[_]=Math.floor((i[h]+i[h+1]+i[d]+i[d+1])/4),_++,h+=2,d+=2;h+=u,d+=u}}(st,We),Ko(We,Pe),Pe.zeroBorder();var t=function(){var n,o,i,u,f,h,d=[];for(n=0;n<et.x;n++)for(o=0;o<et.y;o++)ii(i=Te.size.x*n,u=Te.size.y*o),Ut.zeroBorder(),nt(Mt.data,0),h=ni.create(Ut,Mt).rasterize(0),f=Mt.moments(h.count),d=d.concat(ui(f,[n,o],i,u));return d}();if(t.length<et.x*et.y*.05)return null;var r=function(n){var o,i,u=0,f=0;function h(){var g;for(g=0;g<_e.data.length;g++)if(_e.data[g]===0&&rt.data[g]===1)return g;return _e.data.length}function d(g){var y,_,O,C,w,S=g%_e.size.x,k=g/_e.size.x|0;if(g<_e.data.length)for(O=Ve.data[g],_e.data[g]=u,w=0;w<Ot.searchDirections.length;w++)_=k+Ot.searchDirections[w][0],y=S+Ot.searchDirections[w][1],C=_*_e.size.x+y,rt.data[C]!==0?_e.data[C]===0&&Math.abs(s.dot(Ve.data[C].vec,O.vec))>.95&&d(C):_e.data[C]=Number.MAX_VALUE}for(nt(rt.data,0),nt(_e.data,0),nt(Ve.data,null),o=0;o<n.length;o++)i=n[o],Ve.data[i.index]=i,rt.data[i.index]=1;for(rt.zeroBorder();(f=h())<_e.data.length;)u++,d(f);return u}(t);if(r<1)return null;var e=function(n){var o,i,u=[];for(o=0;o<n;o++)u.push(0);for(i=_e.data.length;i--;)_e.data[i]>0&&u[_e.data[i]-1]++;return(u=u.map(function(f,h){return{val:f,label:h+1}})).sort(function(f,h){return h.val-f.val}),u.filter(function(f){return f.val>=5})}(r);return e.length===0?null:function(n,o){var i,u,f,h,d=[],g=[];for(i=0;i<n.length;i++){for(u=_e.data.length,d.length=0;u--;)_e.data[u]===n[i].label&&(f=Ve.data[u],d.push(f));(h=oi(d))&&g.push(h)}return g}(e)},li=function(t,r){var e,n,o=t.getWidth(),i=t.getHeight(),u=r.halfSample?.5:1;t.getConfig().area&&(n=ea(o,i,t.getConfig().area),t.setTopRight({x:n.sx,y:n.sy}),t.setCanvasSize({x:o,y:i}),o=n.sw,i=n.sh);var f={x:Math.floor(o*u),y:Math.floor(i*u)};if(e=un(r.patchSize,f),t.setWidth(Math.max(Math.floor(Math.floor(f.x/e.x)*(1/u)*e.x),e.x)),t.setHeight(Math.max(Math.floor(Math.floor(f.y/e.y)*(1/u)*e.y),e.y)),t.getWidth()%e.x==0&&t.getHeight()%e.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(o," )and height (").concat(i,") must a multiple of ").concat(e.x))},fi=L()(function t(){U()(this,t),A()(this,"config",void 0),A()(this,"inputStream",void 0),A()(this,"framegrabber",void 0),A()(this,"inputImageWrapper",void 0),A()(this,"stopped",!1),A()(this,"initAborted",!1),A()(this,"boxSize",void 0),A()(this,"resultCollector",void 0),A()(this,"decoder",void 0),A()(this,"workerPool",[]),A()(this,"onUIThread",!0),A()(this,"canvasContainer",new di)}),Zn=L()(function t(){U()(this,t),A()(this,"image",void 0),A()(this,"overlay",void 0)}),di=L()(function t(){U()(this,t),A()(this,"ctx",void 0),A()(this,"dom",void 0),this.ctx=new Zn,this.dom=new Zn});function er(t){if(typeof document>"u")return null;if(t instanceof HTMLElement&&t.nodeName&&t.nodeType===1)return t;var r=typeof t=="string"?t:"#interactive.viewport";return document.querySelector(r)}function tr(t,r,e){var n=function(i,u){var f=document.querySelector(i);return f||((f=document.createElement("canvas")).className=u),f}(t,r),o=n.getContext("2d",{willReadFrequently:e.willReadFrequently});return{canvas:n,context:o}}function hi(t){var r,e,n,o,i,u,f,h,d,g,y=er(t==null||(r=t.config)===null||r===void 0||(e=r.inputStream)===null||e===void 0?void 0:e.target),_=t==null||(n=t.config)===null||n===void 0||(o=n.inputStream)===null||o===void 0?void 0:o.type;if(!_)return null;var O=(t==null||(i=t.config)===null||i===void 0||(u=i.canvas)===null||u===void 0?void 0:u.createOverlay)!==!1,C=function(S,k){var T=k.willReadFrequently,B=k.createOverlay,z=k.debug;if(typeof document<"u"){var Q=tr("canvas.imgBuffer","imgBuffer",{willReadFrequently:T,debug:z});Q.canvas.width=S.x,Q.canvas.height=S.y;var ne={canvas:null,context:null};if(B){var ee=tr("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:T,debug:z});ee.canvas.width=S.x,ee.canvas.height=S.y,ne=ee}return{dom:{image:Q.canvas,overlay:ne.canvas},ctx:{image:Q.context,overlay:ne.context}}}return null}(t.inputStream.getCanvasSize(),{willReadFrequently:!(t==null||(f=t.config)===null||f===void 0||(h=f.inputStream)===null||h===void 0||!h.willReadFrequently),createOverlay:O,debug:t==null||(d=t.config)===null||d===void 0||(g=d.locator)===null||g===void 0?void 0:g.debug});if(!C)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var w=C.dom;return typeof document<"u"&&y&&(_!=="ImageStream"||y.contains(w.image)||y.appendChild(w.image),w.overlay&&!y.contains(w.overlay)&&y.appendChild(w.overlay)),C}function nr(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function St(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?nr(Object(e),!0).forEach(function(n){A()(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):nr(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var De=[];function vi(t){return St(St({},t),{},{inputStream:St(St({},t.inputStream),{},{target:null})})}function pi(t){if(t){var r=t().default;if(!r)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var e;function n(i){self.postMessage({event:"processed",imageData:e.data,result:i},[e.data.buffer])}function o(){self.postMessage({event:"initialized",imageData:e.data},[e.data.buffer])}self.onmessage=function(i){if(i.data.cmd==="init"){var u=i.data.config;u.numOfWorkers=0,e=new r.ImageWrapper({x:i.data.size.x,y:i.data.size.y},new Uint8Array(i.data.imageData)),r.init(u,o,e),r.onProcessed(n)}else i.data.cmd==="process"?(e.data=new Uint8Array(i.data.imageData),r.start()):i.data.cmd==="setReaders"?r.setReaders(i.data.readers):i.data.cmd==="registerReader"&&r.registerReader(i.data.name,i.data.reader)}}function gi(t,r,e){var n,o,i=(typeof __factorySource__<"u"&&(o=__factorySource__),n=new Blob(["("+pi.toString()+")("+o+");"],{type:"text/javascript"}),window.URL.createObjectURL(n)),u={worker:new Worker(i),imageData:new Uint8Array(r.getWidth()*r.getHeight()),busy:!0};u.worker.onmessage=function(f){f.data.event==="initialized"?(URL.revokeObjectURL(i),u.busy=!1,u.imageData=new Uint8Array(f.data.imageData),e(u)):f.data.event==="processed"?(u.imageData=new Uint8Array(f.data.imageData),u.busy=!1,typeof publishResult<"u"&&publishResult(f.data.result,u.imageData)):f.data.event},u.worker.postMessage({cmd:"init",size:{x:r.getWidth(),y:r.getHeight()},imageData:u.imageData,config:vi(t)},[u.imageData.buffer])}function rr(t,r,e,n){var o=t-De.length;if(o===0&&n)n();else if(o<0)De.slice(o).forEach(function(f){f.worker.terminate()}),De=De.slice(0,o),n&&n();else{var i=function(f){De.push(f),De.length>=t&&n&&n()};if(r)for(var u=0;u<o;u++)gi(r,e,i)}}function or(t,r,e){for(var n=t.length;n--;)t[n][0]+=r,t[n][1]+=e}function yi(t,r,e){t[0].x+=r,t[0].y+=e,t[1].x+=r,t[1].y+=e}var ar=function(){return L()(function e(){var n=this;U()(this,e),A()(this,"context",new fi),A()(this,"canRecord",function(o){var i;n.context.initAborted?o(new Error("Initialization was aborted")):n.context.config?n.context.inputStream?(li(n.context.inputStream,(i=n.context.config)===null||i===void 0?void 0:i.locator),n.initCanvas(),n.context.framegrabber=$a.create(n.context.inputStream,n.context.canvasContainer.dom.image),n.context.config.numOfWorkers===void 0&&(n.context.config.numOfWorkers=0),rr(n.context.config.numOfWorkers,n.context.config,n.context.inputStream,function(){var u;((u=n.context.config)===null||u===void 0?void 0:u.numOfWorkers)===0&&n.initializeData(),n.ready(o)})):o(new Error("Input stream not initialized")):o(new Error("Configuration not initialized"))}),A()(this,"update",function(){if(n.context.onUIThread){var o,i=(f=n.context.framegrabber,De.length?!!(h=De.filter(function(d){return!d.busy})[0])&&(f.attachData(h.imageData),f.grab()&&(h.busy=!0,h.worker.postMessage({cmd:"process",imageData:h.imageData},[h.imageData.buffer])),!0):null);i||(n.context.framegrabber.attachData((o=n.context.inputImageWrapper)===null||o===void 0?void 0:o.data),n.context.framegrabber.grab()&&(i||n.locateAndDecode()))}else{var u;n.context.framegrabber.attachData((u=n.context.inputImageWrapper)===null||u===void 0?void 0:u.data),n.context.framegrabber.grab(),n.locateAndDecode()}var f,h}),A()(this,"_cachedStyleValues",void 0),A()(this,"_resolvedStyle",void 0)},[{key:"initBuffers",value:function(e){if(this.context.config){var n=function(u,f,h){var d=f||new Ee({x:u.getWidth(),y:u.getHeight(),type:"XYSize"}),g=[s.clone([0,0]),s.clone([0,d.size.y]),s.clone([d.size.x,d.size.y]),s.clone([d.size.x,0])];return ci(d,h),{inputImageWrapper:d,boxSize:g}}(this.context.inputStream,e,this.context.config.locator),o=n.inputImageWrapper,i=n.boxSize;this.context.inputImageWrapper=o,this.context.boxSize=i}}},{key:"initializeData",value:function(e){this.context.config&&(this.initBuffers(e),this.context.decoder=Nt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?er(this.context.config.inputStream.target):null}},{key:"ready",value:function(e){this.context.inputStream.play(),e()}},{key:"initCanvas",value:function(){var e=hi(this.context);if(e){var n=e.ctx,o=e.dom;this.context.canvasContainer.dom.image=o.image,this.context.canvasContainer.dom.overlay=o.overlay,this.context.canvasContainer.ctx.image=n.image,this.context.canvasContainer.ctx.overlay=n.overlay}}},{key:"initInputStream",value:function(e){if(this.context.config&&this.context.config.inputStream){var n=this.context.config.inputStream,o=n.type,i=n.constraints,u=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",g=arguments.length>1?arguments[1]:void 0,y=arguments.length>2?arguments[2]:void 0;switch(d){case"VideoStream":var _=document.createElement("video");return{video:_,inputStream:y.createVideoStream(_)};case"ImageStream":return{inputStream:y.createImageStream()};case"LiveStream":var O=null;return g&&((O=g.querySelector("video"))||(O=document.createElement("video"),g.appendChild(O))),{video:O,inputStream:y.createLiveStream(O)};default:return console.error("* setupInputStream invalid type ".concat(d)),{video:null,inputStream:null}}}(o,this.getViewPort(),ti),f=u.video,h=u.inputStream;o==="LiveStream"&&f&&_t.request(f,i).then(function(){return h.trigger("canrecord")}).catch(function(d){return e(d)}),h&&(h.setAttribute("preload","auto"),h.setInputStream(this.context.config.inputStream),h.addEventListener("canrecord",this.canRecord.bind(void 0,e))),this.context.inputStream=h}}},{key:"getBoundingBoxes",value:function(){var e;return(e=this.context.config)!==null&&e!==void 0&&e.locate?si():[[s.clone(this.context.boxSize[0]),s.clone(this.context.boxSize[1]),s.clone(this.context.boxSize[2]),s.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(e){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,i=this.context.inputStream.getTopRight(),u=i.x,f=i.y;if((u!==0||f!==0)&&(e.barcodes&&e.barcodes.forEach(function(d){return n.transformResult(d,o)}),e.line&&e.line.length===2&&yi(e.line,u,f),e.box&&!o.has(e.box)&&(or(e.box,u,f),o.add(e.box)),e.boxes&&e.boxes.length>0))for(var h=0;h<e.boxes.length;h++)o.has(e.boxes[h])||(or(e.boxes[h],u,f),o.add(e.boxes[h]))}},{key:"addResult",value:function(e,n){var o=this;n&&this.context.resultCollector&&(e.barcodes?e.barcodes.filter(function(i){return i.codeResult}).forEach(function(i){return o.addResult(i,n)}):e.codeResult&&this.context.resultCollector.addResult(n,this.context.inputStream.getCanvasSize(),e.codeResult))}},{key:"hasCodeResult",value:function(e){return!(!e||!(e.barcodes?e.barcodes.some(function(n){return n.codeResult}):e.codeResult))}},{key:"publishResult",value:function(){var e,n,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,u=o;o&&this.context.onUIThread&&(this.transformResult(o),this.addResult(o,i),u=(o==null||(n=o.barcodes)===null||n===void 0?void 0:n.length)>0?o.barcodes:o),Ke.publish("processed",u),this.hasCodeResult(o)&&Ke.publish("detected",u);var f=this.context.config;f&&f.locate===!1&&(e=f.inputStream)!==null&&e!==void 0&&e.area&&this.drawScannerArea()}},{key:"locateAndDecode",value:(r=ze()(xe.a.mark(function e(){var n,o,i,u,f,h;return xe.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(n=this.getBoundingBoxes())){d.next=3;break}return d.next=1,this.context.decoder.decodeFromBoundingBoxes(n);case 1:if(h=d.sent){d.next=2;break}h={};case 2:(i=h).boxes=n,this.publishResult(i,(o=this.context.inputImageWrapper)===null||o===void 0?void 0:o.data),d.next=5;break;case 3:return d.next=4,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 4:(u=d.sent)?this.publishResult(u,(f=this.context.inputImageWrapper)===null||f===void 0?void 0:f.data):this.publishResult();case 5:case"end":return d.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var e,n=this,o=null,i=1e3/(((e=this.context.config)===null||e===void 0?void 0:e.frequency)||60);this.context.stopped=!1;var u=this.context,f=function(h){o=o||h,u.stopped||(h>=o&&(o+=i,n.update()),window.requestAnimationFrame(f))};f(performance.now())}},{key:"start",value:function(){var e,n;this.context.onUIThread&&((e=this.context.config)===null||e===void 0||(n=e.inputStream)===null||n===void 0?void 0:n.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(t=ze()(xe.a.mark(function e(){var n,o;return xe.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.context.stopped=!0,this.context.framegrabber||(this.context.initAborted=!0),rr(0),(n=this.context.config)===null||n===void 0||!n.inputStream||this.context.config.inputStream.type!=="LiveStream"){i.next=2;break}return i.next=1,_t.release();case 1:(o=this.context.inputStream)===null||o===void 0||o.clearEventHandlers();case 2:case"end":return i.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"setReaders",value:function(e){this.context.decoder&&this.context.decoder.setReaders(e),function(n){De.forEach(function(o){return o.worker.postMessage({cmd:"setReaders",readers:n})})}(e)}},{key:"registerReader",value:function(e,n){Nt.registerReader(e,n),this.context.decoder&&this.context.decoder.registerReader(e,n),function(o,i){De.forEach(function(u){return u.worker.postMessage({cmd:"registerReader",name:o,reader:i})})}(e,n)}},{key:"drawScannerArea",value:function(){var e,n,o,i=(e=this.context.config)===null||e===void 0||(n=e.inputStream)===null||n===void 0?void 0:n.area;if(i){var u=this.context.canvasContainer.ctx.overlay;if(u&&((o=this.context.config)===null||o===void 0?void 0:o.locate)===!1&&(i.borderColor!==void 0&&i.borderColor!==""||i.borderWidth!==void 0&&i.borderWidth>0||i.backgroundColor!==void 0&&i.backgroundColor!=="")&&this.context.boxSize){var f=this.context.inputStream.getTopRight(),h=f.x,d=f.y,g=this.context.boxSize,y=g[0],_=g[1],O=g[3],C=y[0]+h,w=y[1]+d,S=O[0]-y[0],k=_[1]-y[1];if(!this._cachedStyleValues||this._cachedStyleValues.borderColor!==i.borderColor||this._cachedStyleValues.borderWidth!==i.borderWidth||this._cachedStyleValues.backgroundColor!==i.backgroundColor){var T,B;this._cachedStyleValues={borderColor:i.borderColor,borderWidth:i.borderWidth,backgroundColor:i.backgroundColor};var z=i.borderColor!==void 0||i.borderWidth!==void 0,Q=(T=i.borderColor)!==null&&T!==void 0?T:"rgba(0, 255, 0, 0.5)",ne=z?(B=i.borderWidth)!==null&&B!==void 0?B:2:0,ee=i.backgroundColor;this._resolvedStyle={color:Q,width:ne,bg:ee}}var ae=this._resolvedStyle;ae.bg&&(u.fillStyle=ae.bg,u.fillRect(C,w,S,k)),ae.width>0&&(u.strokeStyle=ae.color,u.lineWidth=ae.width,u.strokeRect(C,w,S,k))}}}}]);var t,r}(),Ge=new ar,lt=Ge.context,ir={init:function(t,r,e){var n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ge;return r||(n=new Promise(function(i,u){r=function(f){f?u(f):i()}})),o.context.initAborted=!1,o.context.config=R()({},Ga,t),o.context.config.numOfWorkers>0&&(o.context.config.numOfWorkers=0),e?(o.context.onUIThread=!1,o.initializeData(e),r&&r()):o.initInputStream(r),n},start:function(t,r){var e;if(t)return r||(e=new Promise(function(n,o){r=function(i){i?o(i):n()}})),this.init(t,function(n){if(n)r(n);else try{Ge.start(),r()}catch(o){r(o)}}),e;if(!lt.framegrabber)throw new Error("start() was called before init() completed. Call init() first, or call start(config) to combine init and start.");return Ge.start()},stop:function(){return Ge.stop()},pause:function(){lt.stopped=!0},onDetected:function(t){t&&(typeof t=="function"||x()(t)==="object"&&t.callback)?Ke.subscribe("detected",t):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(t){Ke.unsubscribe("detected",t)},onProcessed:function(t){t&&(typeof t=="function"||x()(t)==="object"&&t.callback)?Ke.subscribe("processed",t):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(t){Ke.unsubscribe("processed",t)},setReaders:function(t){t?Ge.setReaders(t):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(t,r){t?r?Ge.registerReader(t,r):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(t){t&&typeof t.addResult=="function"&&(lt.resultCollector=t)},get canvas(){return lt.canvasContainer},drawScannerArea:function(){return Ge.drawScannerArea()},decodeSingle:function(t,r){var e=this,n=new ar;return(t=R()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:t.src},numOfWorkers:1,locator:{halfSample:!1}},t)).numOfWorkers>0&&(t.numOfWorkers=0),t.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),t.numOfWorkers=0),new Promise(function(o,i){try{e.init(t,function(){lt.canvasContainer=n.context.canvasContainer,Ke.once("processed",function(u){n.stop(),r&&r.call(null,u),o(u)},!0),n.start()},null,n)}catch(u){i(u)}})},get default(){return ir},Readers:p,CameraAccess:_t,ImageDebug:jt,ImageWrapper:Ee,ResultCollector:$n};b.default=ir}]).default})})(pr);var bi=pr.exports;const Pu=vr(bi);var xi={exports:{}};(function(N){var Y=function(c){var b=Object.prototype,a=b.hasOwnProperty,l=Object.defineProperty||function(E,j,P){E[j]=P.value},s,v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",m=v.asyncIterator||"@@asyncIterator",x=v.toStringTag||"@@toStringTag";function M(E,j,P){return Object.defineProperty(E,j,{value:P,enumerable:!0,configurable:!0,writable:!0}),E[j]}try{M({},"")}catch{M=function(j,P,W){return j[P]=W}}function R(E,j,P,W){var q=j&&j.prototype instanceof te?j:te,G=Object.create(q.prototype),fe=new me(W||[]);return l(G,"_invoke",{value:se(E,P,fe)}),G}c.wrap=R;function D(E,j,P){try{return{type:"normal",arg:E.call(j,P)}}catch(W){return{type:"throw",arg:W}}}var I="suspendedStart",F="suspendedYield",U="executing",X="completed",L={};function te(){}function A(){}function $(){}var re={};M(re,p,function(){return this});var ce=Object.getPrototypeOf,pe=ce&&ce(ce(H([])));pe&&pe!==b&&a.call(pe,p)&&(re=pe);var he=$.prototype=te.prototype=Object.create(re);A.prototype=$,l(he,"constructor",{value:$,configurable:!0}),l($,"constructor",{value:A,configurable:!0}),A.displayName=M($,x,"GeneratorFunction");function ye(E){["next","throw","return"].forEach(function(j){M(E,j,function(P){return this._invoke(j,P)})})}c.isGeneratorFunction=function(E){var j=typeof E=="function"&&E.constructor;return j?j===A||(j.displayName||j.name)==="GeneratorFunction":!1},c.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,$):(E.__proto__=$,M(E,x,"GeneratorFunction")),E.prototype=Object.create(he),E},c.awrap=function(E){return{__await:E}};function J(E,j){function P(G,fe,ve,be){var de=D(E[G],E,fe);if(de.type==="throw")be(de.arg);else{var Ae=de.arg,Ye=Ae.value;return Ye&&typeof Ye=="object"&&a.call(Ye,"__await")?j.resolve(Ye.__await).then(function(Ne){P("next",Ne,ve,be)},function(Ne){P("throw",Ne,ve,be)}):j.resolve(Ye).then(function(Ne){Ae.value=Ne,ve(Ae)},function(Ne){return P("throw",Ne,ve,be)})}}var W;function q(G,fe){function ve(){return new j(function(be,de){P(G,fe,be,de)})}return W=W?W.then(ve,ve):ve()}l(this,"_invoke",{value:q})}ye(J.prototype),M(J.prototype,m,function(){return this}),c.AsyncIterator=J,c.async=function(E,j,P,W,q){q===void 0&&(q=Promise);var G=new J(R(E,j,P,W),q);return c.isGeneratorFunction(j)?G:G.next().then(function(fe){return fe.done?fe.value:G.next()})};function se(E,j,P){var W=I;return function(G,fe){if(W===U)throw new Error("Generator is already running");if(W===X){if(G==="throw")throw fe;return V()}for(P.method=G,P.arg=fe;;){var ve=P.delegate;if(ve){var be=K(ve,P);if(be){if(be===L)continue;return be}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(W===I)throw W=X,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);W=U;var de=D(E,j,P);if(de.type==="normal"){if(W=P.done?X:F,de.arg===L)continue;return{value:de.arg,done:P.done}}else de.type==="throw"&&(W=X,P.method="throw",P.arg=de.arg)}}}function K(E,j){var P=j.method,W=E.iterator[P];if(W===s)return j.delegate=null,P==="throw"&&E.iterator.return&&(j.method="return",j.arg=s,K(E,j),j.method==="throw")||P!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+P+"' method")),L;var q=D(W,E.iterator,j.arg);if(q.type==="throw")return j.method="throw",j.arg=q.arg,j.delegate=null,L;var G=q.arg;if(!G)return j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,L;if(G.done)j[E.resultName]=G.value,j.next=E.nextLoc,j.method!=="return"&&(j.method="next",j.arg=s);else return G;return j.delegate=null,L}ye(he),M(he,x,"Generator"),M(he,p,function(){return this}),M(he,"toString",function(){return"[object Generator]"});function Z(E){var j={tryLoc:E[0]};1 in E&&(j.catchLoc=E[1]),2 in E&&(j.finallyLoc=E[2],j.afterLoc=E[3]),this.tryEntries.push(j)}function ie(E){var j=E.completion||{};j.type="normal",delete j.arg,E.completion=j}function me(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(Z,this),this.reset(!0)}c.keys=function(E){var j=Object(E),P=[];for(var W in j)P.push(W);return P.reverse(),function q(){for(;P.length;){var G=P.pop();if(G in j)return q.value=G,q.done=!1,q}return q.done=!0,q}};function H(E){if(E){var j=E[p];if(j)return j.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var P=-1,W=function q(){for(;++P<E.length;)if(a.call(E,P))return q.value=E[P],q.done=!1,q;return q.value=s,q.done=!0,q};return W.next=W}}return{next:V}}c.values=H;function V(){return{value:s,done:!0}}return me.prototype={constructor:me,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ie),!E)for(var j in this)j.charAt(0)==="t"&&a.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=s)},stop:function(){this.done=!0;var E=this.tryEntries[0],j=E.completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var j=this;function P(be,de){return G.type="throw",G.arg=E,j.next=be,de&&(j.method="next",j.arg=s),!!de}for(var W=this.tryEntries.length-1;W>=0;--W){var q=this.tryEntries[W],G=q.completion;if(q.tryLoc==="root")return P("end");if(q.tryLoc<=this.prev){var fe=a.call(q,"catchLoc"),ve=a.call(q,"finallyLoc");if(fe&&ve){if(this.prev<q.catchLoc)return P(q.catchLoc,!0);if(this.prev<q.finallyLoc)return P(q.finallyLoc)}else if(fe){if(this.prev<q.catchLoc)return P(q.catchLoc,!0)}else if(ve){if(this.prev<q.finallyLoc)return P(q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(E,j){for(var P=this.tryEntries.length-1;P>=0;--P){var W=this.tryEntries[P];if(W.tryLoc<=this.prev&&a.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var q=W;break}}q&&(E==="break"||E==="continue")&&q.tryLoc<=j&&j<=q.finallyLoc&&(q=null);var G=q?q.completion:{};return G.type=E,G.arg=j,q?(this.method="next",this.next=q.finallyLoc,L):this.complete(G)},complete:function(E,j){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&j&&(this.next=j),L},finish:function(E){for(var j=this.tryEntries.length-1;j>=0;--j){var P=this.tryEntries[j];if(P.finallyLoc===E)return this.complete(P.completion,P.afterLoc),ie(P),L}},catch:function(E){for(var j=this.tryEntries.length-1;j>=0;--j){var P=this.tryEntries[j];if(P.tryLoc===E){var W=P.completion;if(W.type==="throw"){var q=W.arg;ie(P)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(E,j,P){return this.delegate={iterator:H(E),resultName:j,nextLoc:P},this.method==="next"&&(this.arg=s),L}},c}(N.exports);try{regeneratorRuntime=Y}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Y:Function("r","regeneratorRuntime = r")(Y)}})(xi);var Ft=(N,Y)=>`${N}-${Y}-${Math.random().toString(16).slice(3,8)}`;const _i=Ft;let sr=0;var gr=({id:N,action:Y,payload:c={}})=>{let b=N;return typeof b>"u"&&(b=_i("Job",sr),sr+=1),{id:b,action:Y,payload:c}},at={};let qt=!1;at.logging=qt;at.setLogging=N=>{qt=N};at.log=(...N)=>qt?console.log.apply(globalThis,N):null;const wi=gr,{log:Rt}=at,Oi=Ft;let lr=0;var Mi=()=>{const N=Oi("Scheduler",lr),Y={},c={};let b=[];lr+=1;const a=()=>b.length,l=()=>Object.keys(Y).length,s=()=>{if(b.length!==0){const M=Object.keys(Y);for(let R=0;R<M.length;R+=1)if(typeof c[M[R]]>"u"){b[0](Y[M[R]]);break}}},v=(M,R)=>new Promise((D,I)=>{const F=wi({action:M,payload:R});b.push(async U=>{b.shift(),c[U.id]=F;try{D(await U[M].apply(globalThis,[...R,F.id]))}catch(X){I(X)}finally{delete c[U.id],s()}}),Rt(`[${N}]: Add ${F.id} to JobQueue`),Rt(`[${N}]: JobQueue length=${b.length}`),s()});return{addWorker:M=>(Y[M.id]=M,Rt(`[${N}]: Add ${M.id}`),Rt(`[${N}]: Number of workers=${l()}`),s(),M.id),addJob:async(M,...R)=>{if(l()===0)throw Error(`[${N}]: You need to have at least one worker before adding jobs`);return v(M,R)},terminate:async()=>{Object.keys(Y).forEach(async M=>{await Y[M].terminate()}),b=[]},getQueueLen:a,getNumWorkers:l}};function Si(N){throw new Error('Could not dynamically require "'+N+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ri=N=>{const Y={};return typeof WorkerGlobalScope<"u"?Y.type="webworker":typeof document=="object"?Y.type="browser":typeof process=="object"&&typeof Si=="function"&&(Y.type="node"),typeof N>"u"?Y:Y[N]};const Ai=Ri("type")==="browser",Ci=Ai?N=>new URL(N,window.location.href).href:N=>N;var Ei=N=>{const Y={...N};return["corePath","workerPath","langPath"].forEach(c=>{N[c]&&(Y[c]=Ci(Y[c]))}),Y},yr={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ki="tesseract.js",ji="7.0.0",Ti="Pure Javascript Multilingual OCR",Pi="src/index.js",Di="commonjs",Ii="src/index.d.ts",Li="dist/tesseract.min.js",Ni="dist/tesseract.min.js",zi={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},Ui={"./src/worker/node/index.js":"./src/worker/browser/index.js"},Wi="",Bi=["jeromewu"],Fi="Apache-2.0",qi={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},Vi={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^7.0.0","wasm-feature-detect":"^1.8.0",zlibjs:"^0.3.1"},Gi={"@rollup/pluginutils":"^5.0.2"},$i={type:"git",url:"https://github.com/naptha/tesseract.js.git"},Hi={url:"https://github.com/naptha/tesseract.js/issues"},Xi="https://github.com/naptha/tesseract.js",Yi={type:"opencollective",url:"https://opencollective.com/tesseractjs"},Qi={name:ki,version:ji,description:Ti,main:Pi,type:Di,types:Ii,unpkg:Li,jsdelivr:Ni,scripts:zi,browser:Ui,author:Wi,contributors:Bi,license:Fi,devDependencies:qi,dependencies:Vi,overrides:Gi,repository:$i,bugs:Hi,homepage:Xi,collective:Yi};var Ki={workerBlobURL:!0,logger:()=>{}};const Ji=Qi.version,Zi=Ki;var eu={...Zi,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Ji}/dist/worker.min.js`},tu=({workerPath:N,workerBlobURL:Y})=>{let c;if(Blob&&URL&&Y){const b=new Blob([`importScripts("${N}");`],{type:"application/javascript"});c=new Worker(URL.createObjectURL(b))}else c=new Worker(N);return c},nu=N=>{N.terminate()},ru=(N,Y)=>{N.onmessage=({data:c})=>{Y(c)}},ou=async(N,Y)=>{N.postMessage(Y)};const Wt=N=>new Promise((Y,c)=>{const b=new FileReader;b.onload=()=>{Y(b.result)},b.onerror=({target:{error:{code:a}}})=>{c(Error(`File could not be read! Code=${a}`))},b.readAsArrayBuffer(N)}),Bt=async N=>{let Y=N;if(typeof N>"u")return"undefined";if(typeof N=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(N)?Y=atob(N.split(",")[1]).split("").map(c=>c.charCodeAt(0)):Y=await(await fetch(N)).arrayBuffer();else if(typeof HTMLElement<"u"&&N instanceof HTMLElement)N.tagName==="IMG"&&(Y=await Bt(N.src)),N.tagName==="VIDEO"&&(Y=await Bt(N.poster)),N.tagName==="CANVAS"&&await new Promise(c=>{N.toBlob(async b=>{Y=await Wt(b),c()})});else if(typeof OffscreenCanvas<"u"&&N instanceof OffscreenCanvas){const c=await N.convertToBlob();Y=await Wt(c)}else(N instanceof File||N instanceof Blob)&&(Y=await Wt(N));return new Uint8Array(Y)};var au=Bt;const iu=eu,uu=tu,cu=nu,su=ru,lu=ou,fu=au;var du={defaultOptions:iu,spawnWorker:uu,terminateWorker:cu,onMessage:su,send:lu,loadImage:fu};const hu=Ei,Le=gr,{log:fr}=at,vu=Ft,tt=yr,{defaultOptions:pu,spawnWorker:gu,terminateWorker:yu,onMessage:mu,loadImage:dr,send:bu}=du;let hr=0;var mr=async(N="eng",Y=tt.LSTM_ONLY,c={},b={})=>{const a=vu("Worker",hr),{logger:l,errorHandler:s,...v}=hu({...pu,...c}),p={},m=typeof N=="string"?N.split("+"):N;let x=Y,M=b;const R=[tt.DEFAULT,tt.LSTM_ONLY].includes(Y)&&!v.legacyCore;let D,I;const F=new Promise((H,V)=>{I=H,D=V}),U=H=>{D(H.message)};let X=gu(v);X.onerror=U,hr+=1;const L=({id:H,action:V,payload:E})=>new Promise((j,P)=>{fr(`[${a}]: Start ${H}, action=${V}`);const W=`${V}-${H}`;p[W]={resolve:j,reject:P},bu(X,{workerId:a,jobId:H,action:V,payload:E})}),te=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),A=H=>L(Le({id:H,action:"load",payload:{options:{lstmOnly:R,corePath:v.corePath,logging:v.logging}}})),$=(H,V,E)=>L(Le({id:E,action:"FS",payload:{method:"writeFile",args:[H,V]}})),re=(H,V)=>L(Le({id:V,action:"FS",payload:{method:"readFile",args:[H,{encoding:"utf8"}]}})),ce=(H,V)=>L(Le({id:V,action:"FS",payload:{method:"unlink",args:[H]}})),pe=(H,V,E)=>L(Le({id:E,action:"FS",payload:{method:H,args:V}})),he=(H,V)=>L(Le({id:V,action:"loadLanguage",payload:{langs:H,options:{langPath:v.langPath,dataPath:v.dataPath,cachePath:v.cachePath,cacheMethod:v.cacheMethod,gzip:v.gzip,lstmOnly:[tt.DEFAULT,tt.LSTM_ONLY].includes(x)&&!v.legacyLang}}})),ye=(H,V,E,j)=>L(Le({id:j,action:"initialize",payload:{langs:H,oem:V,config:E}})),J=(H="eng",V,E,j)=>{if(R&&[tt.TESSERACT_ONLY,tt.TESSERACT_LSTM_COMBINED].includes(V))throw Error("Legacy model requested but code missing.");const P=V||x;x=P;const W=E||M;M=W;const G=(typeof H=="string"?H.split("+"):H).filter(fe=>!m.includes(fe));return m.push(...G),G.length>0?he(G,j).then(()=>ye(H,P,W,j)):ye(H,P,W,j)},se=(H={},V)=>L(Le({id:V,action:"setParameters",payload:{params:H}})),K=async(H,V={},E={text:!0},j)=>L(Le({id:j,action:"recognize",payload:{image:await dr(H),options:V,output:E}})),Z=async(H,V)=>{if(R)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return L(Le({id:V,action:"detect",payload:{image:await dr(H)}}))},ie=async()=>(X!==null&&(yu(X),X=null),Promise.resolve());mu(X,({workerId:H,jobId:V,status:E,action:j,data:P})=>{const W=`${j}-${V}`;if(E==="resolve")fr(`[${H}]: Complete ${V}`),p[W].resolve({jobId:V,data:P}),delete p[W];else if(E==="reject")if(p[W].reject(P),delete p[W],j==="load"&&D(P),s)s(P);else throw Error(P);else E==="progress"&&l({...P,userJobId:V})});const me={id:a,worker:X,load:te,writeText:$,readText:re,removeFile:ce,FS:pe,reinitialize:J,setParameters:se,recognize:K,detect:Z,terminate:ie};return A().then(()=>he(N)).then(()=>ye(N,Y,b)).then(()=>I(me)).catch(()=>{}),F};const br=mr,xu=async(N,Y,c)=>{const b=await br(Y,1,c);return b.recognize(N).finally(async()=>{await b.terminate()})},_u=async(N,Y)=>{const c=await br("osd",0,Y);return c.detect(N).finally(async()=>{await c.terminate()})};var wu={recognize:xu,detect:_u},Ou={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Mu={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Su=Mi,Ru=mr,Au=wu,Cu=Ou,Eu=yr,ku=Mu,{setLogging:ju}=at;var Tu={languages:Cu,OEM:Eu,PSM:ku,createScheduler:Su,createWorker:Ru,setLogging:ju,...Au};const Du=vr(Tu);export{Pu as Q,Du as T,vr as g};
